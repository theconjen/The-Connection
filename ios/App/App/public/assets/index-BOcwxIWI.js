import{r as n,a5 as e,as as t}from"./vendor-radix-Cb0-vzxO.js";import{l as r}from"./events-page-CKi2G3h5.js";import"./vendor-react-eVk5PToZ.js";import"./vendor-query-qkAKzVJ0.js";import"./index-CQmKbNyS.js";import"./vendor-utils-nlnd1Dju.js";import"./vendor-icons-CM8Yk8yJ.js";import"./dialog-BfqlROKo.js";import"./label-BZLDYjV_.js";import"./textarea-BQP-18ak.js";import"./switch-DyT2ZBYr.js";import"./radio-group-Cg5EhD0u.js";import"./select-BoJ0bQCi.js";function o(e,t){const r=n.useRef(t);n.useEffect(function(){t!==r.current&&null!=e.attributionControl&&(null!=r.current&&e.attributionControl.removeAttribution(r.current),null!=t&&e.attributionControl.addAttribution(t)),r.current=t},[e,t])}function u(n,e,t){e.center!==t.center&&n.setLatLng(e.center),null!=e.radius&&e.radius!==t.radius&&n.setRadius(e.radius)}function c(n,e){return Object.freeze({...n,...e})}const a=n.createContext(null),i=a.Provider;function l(){const e=n.useContext(a);if(null==e)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function s(t){function r(r,o){const{instance:u,context:c}=t(r).current;return n.useImperativeHandle(o,()=>u),null==r.children?null:e.createElement(i,{value:c},r.children)}return n.forwardRef(r)}function f(e){function t(t,r){const{instance:o}=e(t).current;return n.useImperativeHandle(r,()=>o),null}return n.forwardRef(t)}function p(e){return function(t){const r=l(),o=e(t,r),{instance:u}=o.current,c=n.useRef(t.position),{position:a}=t;return n.useEffect(function(){return u.addTo(r.map),function(){u.remove()}},[r.map,u]),n.useEffect(function(){null!=a&&a!==c.current&&(u.setPosition(a),c.current=a)},[u,a]),o}}function d(e,t){const r=n.useRef();n.useEffect(function(){return null!=t&&e.instance.on(t),r.current=t,function(){null!=r.current&&e.instance.off(r.current),r.current=null}},[e,t])}function y(n,e){const t=n.pane??e.pane;return t?{...n,pane:t}:n}function m(n,e){(function(n){return n.split(" ").filter(Boolean)})(e).forEach(e=>{r.DomUtil.addClass(n,e)})}function v(n,e,t){return Object.freeze({instance:n,context:e,container:t})}function b(e,t){return null==t?function(t,r){const o=n.useRef();return o.current||(o.current=e(t,r)),o}:function(r,o){const u=n.useRef();u.current||(u.current=e(r,o));const c=n.useRef(r),{instance:a}=u.current;return n.useEffect(function(){c.current!==r&&(t(a,r,c.current),c.current=r)},[a,r,o]),u}}function w(e,t){n.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){t.layerContainer?.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function g(n){return function(e){const t=l(),r=n(y(e,t),t);return o(t.map,e.attribution),d(r.current,e.eventHandlers),w(r.current,t),r}}function h(e){return function(t){const r=l(),o=e(y(t,r),r);return d(o.current,t.eventHandlers),w(o.current,r),function(e,t){const r=n.useRef();n.useEffect(function(){if(t.pathOptions!==r.current){const n=t.pathOptions??{};e.instance.setStyle(n),r.current=n}},[e,t])}(o.current,t),o}}function C(n){return f(p(b(function(e,t){return v(n(e),t)})))}function L(n,e){return s(g(b(n,e)))}function E(e,r){const u=function(n,e){return function(t,r){const u=l(),c=n(y(t,u),u);return o(u.map,t.attribution),d(c.current,t.eventHandlers),e(c.current,u,t,r),c}}(b(e),r);return function(e){function r(r,o){const[u,c]=n.useState(!1),{instance:a}=e(r,c).current;n.useImperativeHandle(o,()=>a),n.useEffect(function(){u&&a.update()},[a,u,r.children]);const i=a._contentNode;return i?t.createPortal(r.children,i):null}return n.forwardRef(r)}(u)}function O(n,e){return s(h(b(n,e)))}function x(n,e){return f(g(b(n,e)))}function P(n,e,t){const{opacity:r,zIndex:o}=e;null!=r&&r!==t.opacity&&n.setOpacity(r),null!=o&&o!==t.zIndex&&n.setZIndex(o)}function I(n,e,t){e.bounds instanceof r.LatLngBounds&&e.bounds!==t.bounds&&n.setBounds(e.bounds),null!=e.opacity&&e.opacity!==t.opacity&&n.setOpacity(e.opacity),null!=e.zIndex&&e.zIndex!==t.zIndex&&n.setZIndex(e.zIndex)}function j(){return l().map}function R(e,t){const r=j();return n.useEffect(function(){return r.on(e,t),function(){r.off(e,t)}},[r,e,t]),r}function k(e){const t=j();return n.useEffect(function(){return t.on(e),function(){t.off(e)}},[t,e]),t}const z=C(function(n){return new r.Control.Attribution(n)}),S=O(function({center:n,children:e,...t},o){const u=new r.Circle(n,t);return v(u,c(o,{overlayContainer:u}))},u),B=O(function({center:n,children:e,...t},o){const u=new r.CircleMarker(n,t);return v(u,c(o,{overlayContainer:u}))},u),H=O(function({children:n,...e},t){const o=new r.FeatureGroup([],e);return v(o,c(t,{layerContainer:o,overlayContainer:o}))}),_=O(function({data:n,...e},t){const o=new r.GeoJSON(n,e);return v(o,c(t,{overlayContainer:o}))},function(n,e,t){e.style!==t.style&&(null==e.style?n.resetStyle():n.setStyle(e.style))}),N=L(function({bounds:n,url:e,...t},o){const u=new r.ImageOverlay(e,n,t);return v(u,c(o,{overlayContainer:u}))},function(n,e,t){if(I(n,e,t),e.bounds!==t.bounds){const t=e.bounds instanceof r.LatLngBounds?e.bounds:new r.LatLngBounds(e.bounds);n.setBounds(t)}e.url!==t.url&&n.setUrl(e.url)}),M=L(function({children:n,...e},t){const o=new r.LayerGroup([],e);return v(o,c(t,{layerContainer:o}))}),A=s(p(b(function({children:n,...e},t){const o=new r.Control.Layers(void 0,void 0,e);return v(o,c(t,{layersControl:o}))},function(n,e,t){e.collapsed!==t.collapsed&&(!0===e.collapsed?n.collapse():n.expand())})));function T(t){return function(r){const o=l(),u=n.useRef(r),[a,s]=n.useState(null),{layersControl:f,map:p}=o,d=n.useCallback(n=>{null!=f&&(u.current.checked&&p.addLayer(n),t(f,n,u.current.name),s(n))},[f,p]),y=n.useCallback(n=>{f?.removeLayer(n),s(null)},[f]),m=n.useMemo(()=>c(o,{layerContainer:{addLayer:d,removeLayer:y}}),[o,d,y]);return n.useEffect(()=>{null!==a&&u.current!==r&&(!0!==r.checked||null!=u.current.checked&&!1!==u.current.checked?!0!==u.current.checked||null!=r.checked&&!1!==r.checked||p.removeLayer(a):p.addLayer(a),u.current=r)}),r.children?e.createElement(i,{value:m},r.children):null}}function G(){return G=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},G.apply(this,arguments)}function U({bounds:t,boundsOptions:o,center:u,children:c,className:a,id:l,placeholder:s,style:f,whenReady:p,zoom:d,...y},m){const[v]=n.useState({className:a,id:l,style:f}),[b,w]=n.useState(null);n.useImperativeHandle(m,()=>b?.map??null,[b]);const g=n.useCallback(n=>{if(null!==n&&null===b){const e=new r.Map(n,y);null!=u&&null!=d?e.setView(u,d):null!=t&&e.fitBounds(t,o),null!=p&&e.whenReady(p),w(function(n){return Object.freeze({__version:1,map:n})}(e))}},[]);n.useEffect(()=>()=>{b?.map.remove()},[b]);const h=b?e.createElement(i,{value:b},c):s??null;return e.createElement("div",G({},v,{ref:g}),h)}A.BaseLayer=T(function(n,e,t){n.addBaseLayer(e,t)}),A.Overlay=T(function(n,e,t){n.addOverlay(e,t)});const Z=n.forwardRef(U),V=L(function({position:n,...e},t){const o=new r.Marker(n,e);return v(o,c(t,{overlayContainer:o}))},function(n,e,t){e.position!==t.position&&n.setLatLng(e.position),null!=e.icon&&e.icon!==t.icon&&n.setIcon(e.icon),null!=e.zIndexOffset&&e.zIndexOffset!==t.zIndexOffset&&n.setZIndexOffset(e.zIndexOffset),null!=e.opacity&&e.opacity!==t.opacity&&n.setOpacity(e.opacity),null!=n.dragging&&e.draggable!==t.draggable&&(!0===e.draggable?n.dragging.enable():n.dragging.disable())}),q=["mapPane","markerPane","overlayPane","popupPane","shadowPane","tilePane","tooltipPane"];function F(n,e){const{[e]:t,...r}=n;return r}function J(r,o){const[u]=n.useState(r.name),[c,a]=n.useState(null);n.useImperativeHandle(o,()=>c,[c]);const s=l(),f=n.useMemo(()=>({...s,pane:u}),[s]);return n.useEffect(()=>(a(function(n,e,t){if(-1!==q.indexOf(n))throw new Error(`You must use a unique name for a pane that is not a default Leaflet pane: ${n}`);if(null!=t.map.getPane(n))throw new Error(`A pane with this name already exists: ${n}`);const r=e.pane??t.pane,o=r?t.map.getPane(r):void 0,u=t.map.createPane(n,o);return null!=e.className&&m(u,e.className),null!=e.style&&Object.keys(e.style).forEach(n=>{u.style[n]=e.style[n]}),u}(u,r,s)),function(){const n=s.map.getPane(u);n?.remove?.(),null!=s.map._panes&&(s.map._panes=F(s.map._panes,u),s.map._paneRenderers=F(s.map._paneRenderers,u))}),[]),null!=r.children&&null!=c?t.createPortal(e.createElement(i,{value:f},r.children),c):null}const W=n.forwardRef(J),$=O(function({positions:n,...e},t){const o=new r.Polygon(n,e);return v(o,c(t,{overlayContainer:o}))},function(n,e,t){e.positions!==t.positions&&n.setLatLngs(e.positions)}),D=O(function({positions:n,...e},t){const o=new r.Polyline(n,e);return v(o,c(t,{overlayContainer:o}))},function(n,e,t){e.positions!==t.positions&&n.setLatLngs(e.positions)}),K=E(function(n,e){return v(new r.Popup(n,e.overlayContainer),e)},function(e,t,{position:r},o){n.useEffect(function(){const{instance:n}=e;function u(e){e.popup===n&&(n.update(),o(!0))}function c(e){e.popup===n&&o(!1)}return t.map.on({popupopen:u,popupclose:c}),null==t.overlayContainer?(null!=r&&n.setLatLng(r),n.openOn(t.map)):t.overlayContainer.bindPopup(n),function(){t.map.off({popupopen:u,popupclose:c}),t.overlayContainer?.unbindPopup(),t.map.removeLayer(n)}},[e,t,o,r])}),Y=O(function({bounds:n,...e},t){const o=new r.Rectangle(n,e);return v(o,c(t,{overlayContainer:o}))},function(n,e,t){e.bounds!==t.bounds&&n.setBounds(e.bounds)}),Q=C(function(n){return new r.Control.Scale(n)}),X=g(b(function(n,e){const{attributes:t,bounds:o,...u}=n,c=document.createElementNS("http://www.w3.org/2000/svg","svg");c.setAttribute("xmlns","http://www.w3.org/2000/svg"),null!=t&&Object.keys(t).forEach(n=>{c.setAttribute(n,t[n])});return v(new r.SVGOverlay(c,o,u),e,c)},I));function nn({children:e,...r},o){const{instance:u,container:c}=X(r).current;return n.useImperativeHandle(o,()=>u),null==c||null==e?null:t.createPortal(e,c)}const en=n.forwardRef(nn),tn=x(function({url:n,...e},t){return v(new r.TileLayer(n,y(e,t)),t)},function(n,e,t){P(n,e,t);const{url:r}=e;null!=r&&r!==t.url&&n.setUrl(r)}),rn=E(function(n,e){return v(new r.Tooltip(n,e.overlayContainer),e)},function(e,t,{position:r},o){n.useEffect(function(){const n=t.overlayContainer;if(null==n)return;const{instance:u}=e,c=n=>{n.tooltip===u&&(null!=r&&u.setLatLng(r),u.update(),o(!0))},a=n=>{n.tooltip===u&&o(!1)};return n.on({tooltipopen:c,tooltipclose:a}),n.bindTooltip(u),function(){n.off({tooltipopen:c,tooltipclose:a}),null!=n._map&&n.unbindTooltip()}},[e,t,o,r])}),on=L(function({bounds:n,url:e,...t},o){const u=new r.VideoOverlay(e,n,t);return!0===t.play&&u.getElement()?.play(),v(u,c(o,{overlayContainer:u}))},function(n,e,t){I(n,e,t),"string"==typeof e.url&&e.url!==t.url&&n.setUrl(e.url);const r=n.getElement();null!=r&&(!0!==e.play||t.play?e.play||!0!==t.play||r.pause():r.play())}),un=x(function({eventHandlers:n,params:e={},url:t,...o},u){return v(new r.TileLayer.WMS(t,{...e,...y(o,u)}),u)},function(n,e,t){P(n,e,t),null!=e.params&&e.params!==t.params&&n.setParams(e.params)}),cn=C(function(n){return new r.Control.Zoom(n)});export{z as AttributionControl,S as Circle,B as CircleMarker,H as FeatureGroup,_ as GeoJSON,N as ImageOverlay,M as LayerGroup,A as LayersControl,Z as MapContainer,V as Marker,W as Pane,$ as Polygon,D as Polyline,K as Popup,Y as Rectangle,en as SVGOverlay,Q as ScaleControl,tn as TileLayer,rn as Tooltip,on as VideoOverlay,un as WMSTileLayer,cn as ZoomControl,j as useMap,R as useMapEvent,k as useMapEvents};
