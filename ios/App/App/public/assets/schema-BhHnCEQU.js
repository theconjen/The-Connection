var e,t,n,i,r,s,o,a,l,u,d,c,m,p,g,f,h,y,_,N,b,w,I,v,S,P,T,x,A,C,D,q,B,z,k,F,V,L,K,Q,U,j,O,E,$,M,Z,R,J,G,H,W,Y,X,ee,te,ne,ie,re,se,oe,ae,le,ue,de,ce,me,pe,ge,fe,he,ye,_e,Ne,be,we,Ie,ve,Se,Pe,Te,xe,Ae,Ce,De,qe,Be,ze,ke,Fe,Ve,Le,Ke,Qe,Ue,je,Oe,Ee,$e,Me,Ze,Re,Je,Ge,He,We,Ye,Xe,et,tt,nt,it,rt,st,ot,at,lt,ut,dt,ct,mt,pt,gt,ft,ht,yt,_t,Nt,bt,wt,It,vt,St,Pt,Tt,xt,At,Ct,Dt,qt,Bt,zt,kt,Ft,Vt,Lt,Kt,Qt,Ut,jt,Ot,Et,$t,Mt,Zt,Rt,Jt,Gt,Ht,Wt,Yt,Xt,en,tn,nn,rn,sn,on,an,ln,un,dn,cn,mn,pn,gn,fn,hn,yn,_n,Nn,bn,wn,In,vn,Sn,Pn,Tn,xn,An,Cn,Dn,qn,Bn,zn,kn,Fn,Vn,Ln,Kn,Qn,Un,jn=Object.defineProperty,On=(e,t,n)=>((e,t,n)=>t in e?jn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);import{B as En,D as $n,E as Mn,I as Zn,N as Rn,O as Jn,P as Gn,a as Hn,d as Wn,f as Yn,g as Xn,h as ei,i as ti,j as ni,k as ii,m as ri,p as si,q as oi,r as ai,Z as li,t as ui,u as di,v as ci,w as mi,x as pi,y as gi,z as fi,A as hi,C as yi,F as _i,G as Ni,H as bi,J as wi,K as Ii,L as vi,M as Si,Q as Pi,R as Ti,S as xi,T as Ai,U as Ci,V as Di,W as qi,X as Bi,Y as zi,_ as ki,$ as Fi,a0 as Vi,a1 as Li,a2 as Ki,a3 as Qi,a4 as Ui,b as ji,c as Oi,a5 as Ei,a6 as $i,a7 as Mi,a8 as Zi,a9 as Ri,aa as Ji,e as Gi,ab as Hi,ac as Wi,ad as Yi,ae as Xi,af as er,ag as tr,ah as nr,ai as ir,aj as rr,ak as sr,al as or,l as ar,am as lr,an as ur,ao as dr,ap as cr,aq as mr,ar as pr,as as gr,n as fr,o as hr,at as yr,au as _r,av as Nr,aw as br,ax as wr,ay as Ir,az as vr,aA as Sr,aB as Pr,aC as Tr,aD as xr,aE as Ar,aF as Cr,s as Dr,aG as qr,aH as Br,aI as zr,aJ as kr,aK as Fr,aL as Vr,aM as Lr}from"./types-DUVubNlp.js";const Kr=Object.freeze(Object.defineProperty({__proto__:null,BRAND:En,DIRTY:$n,EMPTY_PATH:Mn,INVALID:Zn,NEVER:Rn,OK:Jn,ParseStatus:Gn,Schema:Hn,ZodAny:Wn,ZodArray:Yn,ZodBigInt:Xn,ZodBoolean:ei,ZodBranded:ti,ZodCatch:ni,ZodDate:ii,ZodDefault:ri,ZodDiscriminatedUnion:si,ZodEffects:oi,ZodEnum:ai,ZodError:li,get ZodFirstPartyTypeKind(){return ui},ZodFunction:di,ZodIntersection:ci,ZodIssueCode:mi,ZodLazy:pi,ZodLiteral:gi,ZodMap:fi,ZodNaN:hi,ZodNativeEnum:yi,ZodNever:_i,ZodNull:Ni,ZodNullable:bi,ZodNumber:wi,ZodObject:Ii,ZodOptional:vi,ZodParsedType:Si,ZodPipeline:Pi,ZodPromise:Ti,ZodReadonly:xi,ZodRecord:Ai,ZodSchema:Hn,ZodSet:Ci,ZodString:Di,ZodSymbol:qi,ZodTransformer:oi,ZodTuple:Bi,ZodType:Hn,ZodUndefined:zi,ZodUnion:ki,ZodUnknown:Fi,ZodVoid:Vi,addIssueToContext:Li,any:Ki,array:Qi,bigint:Ui,boolean:ji,coerce:Oi,custom:Ei,date:$i,datetimeRegex:Mi,defaultErrorMap:Zi,discriminatedUnion:Ri,effect:Ji,enum:Gi,function:Hi,getErrorMap:Wi,getParsedType:Yi,instanceof:Xi,intersection:er,isAborted:tr,isAsync:nr,isDirty:ir,isValid:rr,late:sr,lazy:or,literal:ar,makeIssue:lr,map:ur,nan:dr,nativeEnum:cr,never:mr,null:pr,nullable:gr,number:fr,object:hr,get objectUtil(){return yr},oboolean:_r,onumber:Nr,optional:br,ostring:wr,pipeline:Ir,preprocess:vr,promise:Sr,quotelessJson:Pr,record:Tr,set:xr,setErrorMap:Ar,strictObject:Cr,string:Dr,symbol:qr,transformer:Ji,tuple:Br,undefined:zr,union:kr,unknown:Fr,get util(){return Vr},void:Lr},Symbol.toStringTag,{value:"Module"})),Qr=Symbol.for("drizzle:entityKind");function Ur(e,t){if(!e||"object"!=typeof e)return!1;if(e instanceof t)return!0;if(!Object.prototype.hasOwnProperty.call(t,Qr))throw new Error(`Class "${t.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let n=Object.getPrototypeOf(e).constructor;if(n)for(;n;){if(Qr in n&&n[Qr]===t[Qr])return!0;n=Object.getPrototypeOf(n)}return!1}e=Qr;class jr{constructor(e,t){On(this,"name"),On(this,"keyAsName"),On(this,"primary"),On(this,"notNull"),On(this,"default"),On(this,"defaultFn"),On(this,"onUpdateFn"),On(this,"hasDefault"),On(this,"isUnique"),On(this,"uniqueName"),On(this,"uniqueType"),On(this,"dataType"),On(this,"columnType"),On(this,"enumValues"),On(this,"generated"),On(this,"generatedIdentity"),On(this,"config"),this.table=e,this.config=t,this.name=t.name,this.keyAsName=t.keyAsName,this.notNull=t.notNull,this.default=t.default,this.defaultFn=t.defaultFn,this.onUpdateFn=t.onUpdateFn,this.hasDefault=t.hasDefault,this.primary=t.primaryKey,this.isUnique=t.isUnique,this.uniqueName=t.uniqueName,this.uniqueType=t.uniqueType,this.dataType=t.dataType,this.columnType=t.columnType,this.generated=t.generated,this.generatedIdentity=t.generatedIdentity}mapFromDriverValue(e){return e}mapToDriverValue(e){return e}shouldDisableInsert(){return void 0!==this.config.generated&&"byDefault"!==this.config.generated.type}}On(jr,e,"Column"),t=Qr;class Or{constructor(e,t,n){On(this,"config"),On(this,"$default",this.$defaultFn),On(this,"$onUpdate",this.$onUpdateFn),this.config={name:e,keyAsName:""===e,notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:t,columnType:n,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(e){return this.config.default=e,this.config.hasDefault=!0,this}$defaultFn(e){return this.config.defaultFn=e,this.config.hasDefault=!0,this}$onUpdateFn(e){return this.config.onUpdateFn=e,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(e){""===this.config.name&&(this.config.name=e)}}On(Or,t,"ColumnBuilder");const Er=Symbol.for("drizzle:Name");n=Qr;class $r{constructor(e,t){On(this,"reference"),On(this,"_onUpdate","no action"),On(this,"_onDelete","no action"),this.reference=()=>{const{name:t,columns:n,foreignColumns:i}=e();return{name:t,columns:n,foreignTable:i[0].table,foreignColumns:i}},t&&(this._onUpdate=t.onUpdate,this._onDelete=t.onDelete)}onUpdate(e){return this._onUpdate=void 0===e?"no action":e,this}onDelete(e){return this._onDelete=void 0===e?"no action":e,this}build(e){return new Mr(e,this)}}On($r,n,"PgForeignKeyBuilder"),i=Qr;class Mr{constructor(e,t){On(this,"reference"),On(this,"onUpdate"),On(this,"onDelete"),this.table=e,this.reference=t.reference,this.onUpdate=t._onUpdate,this.onDelete=t._onDelete}getName(){const{name:e,columns:t,foreignColumns:n}=this.reference(),i=t.map(e=>e.name),r=n.map(e=>e.name),s=[this.table[Er],...i,n[0].table[Er],...r];return e??`${s.join("_")}_fk`}}function Zr(e,t,n){for(let i=t;i<e.length;i++){const r=e[i];if("\\"!==r){if('"'===r)return[e.slice(t,i).replace(/\\/g,""),i+1];if(!n&&(","===r||"}"===r))return[e.slice(t,i).replace(/\\/g,""),i]}else i++}return[e.slice(t).replace(/\\/g,""),e.length]}function Rr(e,t=0){const n=[];let i=t,r=!1;for(;i<e.length;){const s=e[i];if(","===s){(r||i===t)&&n.push(""),r=!0,i++;continue}if(r=!1,"\\"===s){i+=2;continue}if('"'===s){const[t,r]=Zr(e,i+1,!0);n.push(t),i=r;continue}if("}"===s)return[n,i+1];if("{"===s){const[t,r]=Rr(e,i+1);n.push(t),i=r;continue}const[o,a]=Zr(e,i,!1);n.push(o),i=a}return[n,i]}function Jr(e){const[t]=Rr(e,1);return t}function Gr(e){return`{${e.map(e=>Array.isArray(e)?Gr(e):"string"==typeof e?`"${e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${e}`).join(",")}}`}On(Mr,i,"PgForeignKey");class Hr extends(s=Or,r=Qr,s){constructor(){super(...arguments),On(this,"foreignKeyConfigs",[])}array(e){return new es(this.config.name,this,e)}references(e,t={}){return this.foreignKeyConfigs.push({ref:e,actions:t}),this}unique(e,t){return this.config.isUnique=!0,this.config.uniqueName=e,this.config.uniqueType=t?.nulls,this}generatedAlwaysAs(e){return this.config.generated={as:e,type:"always",mode:"stored"},this}buildForeignKeys(e,t){return this.foreignKeyConfigs.map(({ref:n,actions:i})=>function(e,...t){return e(...t)}((n,i)=>{const r=new $r(()=>{const t=n();return{columns:[e],foreignColumns:[t]}});return i.onUpdate&&r.onUpdate(i.onUpdate),i.onDelete&&r.onDelete(i.onDelete),r.build(t)},n,i))}buildExtraConfigColumn(e){return new Yr(e,this.config)}}On(Hr,r,"PgColumnBuilder");class Wr extends(a=jr,o=Qr,a){constructor(e,t){t.uniqueName||(t.uniqueName=function(e,t){return`${e[Er]}_${t.join("_")}_unique`}(e,[t.name])),super(e,t),this.table=e}}On(Wr,o,"PgColumn");class Yr extends(u=Wr,l=Qr,u){constructor(){super(...arguments),On(this,"indexConfig",{order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass}),On(this,"defaultConfig",{order:"asc",nulls:"last",opClass:void 0})}getSQLType(){return this.getSQLType()}asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(e){return this.indexConfig.opClass=e,this}}On(Yr,l,"ExtraConfigColumn"),d=Qr;class Xr{constructor(e,t,n,i){On(this,"name"),On(this,"keyAsName"),On(this,"type"),On(this,"indexConfig"),this.name=e,this.keyAsName=t,this.type=n,this.indexConfig=i}}On(Xr,d,"IndexedColumn");class es extends(m=Hr,c=Qr,m){constructor(e,t,n){super(e,"array","PgArray"),this.config.baseBuilder=t,this.config.size=n}build(e){const t=this.config.baseBuilder.build(e);return new ns(e,this.config,t)}}On(es,c,"PgArrayBuilder");const ts=class e extends(g=Wr,p=Qr,g){constructor(e,t,n,i){super(e,t),On(this,"size"),this.baseColumn=n,this.range=i,this.size=t.size}getSQLType(){return`${this.baseColumn.getSQLType()}[${"number"==typeof this.size?this.size:""}]`}mapFromDriverValue(e){return"string"==typeof e&&(e=Jr(e)),e.map(e=>this.baseColumn.mapFromDriverValue(e))}mapToDriverValue(t,n=!1){const i=t.map(t=>null===t?null:Ur(this.baseColumn,e)?this.baseColumn.mapToDriverValue(t,!0):this.baseColumn.mapToDriverValue(t));return n?i:Gr(i)}};On(ts,p,"PgArray");let ns=ts;const is=Symbol.for("drizzle:isPgEnum");f=Qr;class rs{constructor(e,t,n,i=!1){this._={brand:"Subquery",sql:e,selectedFields:t,alias:n,isWith:i}}}On(rs,f,"Subquery");const ss={startActiveSpan:(e,t)=>t()},os=Symbol.for("drizzle:ViewBaseConfig"),as=Symbol.for("drizzle:Schema"),ls=Symbol.for("drizzle:Columns"),us=Symbol.for("drizzle:ExtraConfigColumns"),ds=Symbol.for("drizzle:OriginalName"),cs=Symbol.for("drizzle:BaseName"),ms=Symbol.for("drizzle:IsAlias"),ps=Symbol.for("drizzle:ExtraConfigBuilder"),gs=Symbol.for("drizzle:IsDrizzleTable");P=Qr,S=Er,v=ds,I=as,w=ls,b=us,N=cs,_=ms,y=gs,h=ps;class fs{constructor(e,t,n){On(this,S),On(this,v),On(this,I),On(this,w),On(this,b),On(this,N),On(this,_,!1),On(this,y,!0),On(this,h),this[Er]=this[ds]=e,this[as]=t,this[cs]=n}}function hs(e){return"object"==typeof e&&null!==e&&gs in e}On(fs,P,"Table"),On(fs,"Symbol",{Name:Er,Schema:as,OriginalName:ds,Columns:ls,ExtraConfigColumns:us,BaseName:cs,IsAlias:ms,ExtraConfigBuilder:ps}),T=Qr;class ys{constructor(e){On(this,"value"),this.value=Array.isArray(e)?e:[e]}getSQL(){return new Ns([this])}}On(ys,T,"StringChunk"),x=Qr;const _s=class e{constructor(e){On(this,"decoder",ws),On(this,"shouldInlineParams",!1),this.queryChunks=e}append(e){return this.queryChunks.push(...e.queryChunks),this}toQuery(e){return ss.startActiveSpan("drizzle.buildSQL",t=>{const n=this.buildQueryFromSourceParams(this.queryChunks,e);return t?.setAttributes({"drizzle.query.text":n.sql,"drizzle.query.params":JSON.stringify(n.params)}),n})}buildQueryFromSourceParams(t,n){const i=Object.assign({},n,{inlineParams:n.inlineParams||this.shouldInlineParams,paramStartIndex:n.paramStartIndex||{value:0}}),{casing:r,escapeName:s,escapeParam:o,prepareTyping:a,inlineParams:l,paramStartIndex:u}=i;return function(e){const t={sql:"",params:[]};for(const n of e)t.sql+=n.sql,t.params.push(...n.params),n.typings?.length&&(t.typings||(t.typings=[]),t.typings.push(...n.typings));return t}(t.map(t=>{if(Ur(t,ys))return{sql:t.value.join(""),params:[]};if(Ur(t,bs))return{sql:s(t.value),params:[]};if(void 0===t)return{sql:"",params:[]};if(Array.isArray(t)){const e=[new ys("(")];for(const[n,i]of t.entries())e.push(i),n<t.length-1&&e.push(new ys(", "));return e.push(new ys(")")),this.buildQueryFromSourceParams(e,i)}if(Ur(t,e))return this.buildQueryFromSourceParams(t.queryChunks,{...i,inlineParams:l||t.shouldInlineParams});if(Ur(t,fs)){const e=t[fs.Symbol.Schema],n=t[fs.Symbol.Name];return{sql:void 0===e||t[ms]?s(n):s(e)+"."+s(n),params:[]}}if(Ur(t,jr)){const e=r.getColumnCasing(t);if("indexes"===n.invokeSource)return{sql:s(e),params:[]};const i=t.table[fs.Symbol.Schema];return{sql:t.table[ms]||void 0===i?s(t.table[fs.Symbol.Name])+"."+s(e):s(i)+"."+s(t.table[fs.Symbol.Name])+"."+s(e),params:[]}}if(Ur(t,As)){const e=t[os].schema,n=t[os].name;return{sql:void 0===e||t[os].isAlias?s(n):s(e)+"."+s(n),params:[]}}if(Ur(t,vs)){if(Ur(t.value,Ts))return{sql:o(u.value++,t),params:[t],typings:["none"]};const n=null===t.value?null:t.encoder.mapToDriverValue(t.value);if(Ur(n,e))return this.buildQueryFromSourceParams([n],i);if(l)return{sql:this.mapInlineParam(n,i),params:[]};let r=["none"];return a&&(r=[a(t.encoder)]),{sql:o(u.value++,n),params:[n],typings:r}}return Ur(t,Ts)?{sql:o(u.value++,t),params:[t],typings:["none"]}:Ur(t,e.Aliased)&&void 0!==t.fieldAlias?{sql:s(t.fieldAlias),params:[]}:Ur(t,rs)?t._.isWith?{sql:s(t._.alias),params:[]}:this.buildQueryFromSourceParams([new ys("("),t._.sql,new ys(") "),new bs(t._.alias)],i):(d=t)&&"function"==typeof d&&is in d&&!0===d[is]?t.schema?{sql:s(t.schema)+"."+s(t.enumName),params:[]}:{sql:s(t.enumName),params:[]}:null!=(c=t)&&"function"==typeof c.getSQL?t.shouldOmitSQLParens?.()?this.buildQueryFromSourceParams([t.getSQL()],i):this.buildQueryFromSourceParams([new ys("("),t.getSQL(),new ys(")")],i):l?{sql:this.mapInlineParam(t,i),params:[]}:{sql:o(u.value++,t),params:[t],typings:["none"]};var d,c}))}mapInlineParam(e,{escapeString:t}){if(null===e)return"null";if("number"==typeof e||"boolean"==typeof e)return e.toString();if("string"==typeof e)return t(e);if("object"==typeof e){const n=e.toString();return t("[object Object]"===n?JSON.stringify(e):n)}throw new Error("Unexpected param value: "+e)}getSQL(){return this}as(t){return void 0===t?this:new e.Aliased(this,t)}mapWith(e){return this.decoder="function"==typeof e?{mapFromDriverValue:e}:e,this}inlineParams(){return this.shouldInlineParams=!0,this}if(e){return e?this:void 0}};On(_s,x,"SQL");let Ns=_s;A=Qr;class bs{constructor(e){On(this,"brand"),this.value=e}getSQL(){return new Ns([this])}}On(bs,A,"Name");const ws={mapFromDriverValue:e=>e},Is={mapToDriverValue:e=>e};C=Qr;class vs{constructor(e,t=Is){On(this,"brand"),this.value=e,this.encoder=t}getSQL(){return new Ns([this])}}function Ss(e,...t){const n=[];(t.length>0||e.length>0&&""!==e[0])&&n.push(new ys(e[0]));for(const[i,r]of t.entries())n.push(r,new ys(e[i+1]));return new Ns(n)}var Ps;On(vs,C,"Param"),(Ps=Ss||(Ss={})).empty=function(){return new Ns([])},Ps.fromList=function(e){return new Ns(e)},Ps.raw=function(e){return new Ns([new ys(e)])},Ps.join=function(e,t){const n=[];for(const[i,r]of e.entries())i>0&&void 0!==t&&n.push(t),n.push(r);return new Ns(n)},Ps.identifier=function(e){return new bs(e)},Ps.placeholder=function(e){return new Ts(e)},Ps.param=function(e,t){return new vs(e,t)},(e=>{var t;t=Qr;const n=class e{constructor(e,t){On(this,"isSelectionField",!1),this.sql=e,this.fieldAlias=t}getSQL(){return this.sql}clone(){return new e(this.sql,this.fieldAlias)}};On(n,t,"SQL.Aliased");let i=n;e.Aliased=i})(Ns||(Ns={})),D=Qr;class Ts{constructor(e){this.name=e}getSQL(){return new Ns([this])}}On(Ts,D,"Placeholder");const xs=Symbol.for("drizzle:IsDrizzleView");z=Qr,B=os,q=xs;class As{constructor({name:e,schema:t,selectedFields:n,query:i}){On(this,B),On(this,q,!0),this[os]={name:e,originalName:e,schema:t,selectedFields:n,query:i,isExisting:!i,isAlias:!1}}getSQL(){return new Ns([this])}}function Cs(e){return"object"==typeof e&&null!==e&&xs in e}function Ds(e,t){return{name:"string"==typeof e&&e.length>0?e:"",config:"object"==typeof e?e:t}}On(As,z,"View"),jr.prototype.getSQL=function(){return new Ns([this])},fs.prototype.getSQL=function(){return new Ns([this])},rs.prototype.getSQL=function(){return new Ns([this])};class qs extends(F=Hr,k=Qr,F){generatedAlwaysAsIdentity(e){if(e){const{name:t,...n}=e;this.config.generatedIdentity={type:"always",sequenceName:t,sequenceOptions:n}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(e){if(e){const{name:t,...n}=e;this.config.generatedIdentity={type:"byDefault",sequenceName:t,sequenceOptions:n}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}On(qs,k,"PgIntColumnBaseBuilder");class Bs extends(L=qs,V=Qr,L){constructor(e){super(e,"number","PgBigInt53")}build(e){return new zs(e,this.config)}}On(Bs,V,"PgBigInt53Builder");class zs extends(Q=Wr,K=Qr,Q){getSQLType(){return"bigint"}mapFromDriverValue(e){return"number"==typeof e?e:Number(e)}}On(zs,K,"PgBigInt53");class ks extends(j=qs,U=Qr,j){constructor(e){super(e,"bigint","PgBigInt64")}build(e){return new Fs(e,this.config)}}On(ks,U,"PgBigInt64Builder");class Fs extends(E=Wr,O=Qr,E){getSQLType(){return"bigint"}mapFromDriverValue(e){return BigInt(e)}}function Vs(e,t){const{name:n,config:i}=Ds(e,t);return"number"===i.mode?new Bs(n):new ks(n)}On(Fs,O,"PgBigInt64");class Ls extends(M=Hr,$=Qr,M){constructor(e){super(e,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new Ks(e,this.config)}}On(Ls,$,"PgBigSerial53Builder");class Ks extends(R=Wr,Z=Qr,R){getSQLType(){return"bigserial"}mapFromDriverValue(e){return"number"==typeof e?e:Number(e)}}On(Ks,Z,"PgBigSerial53");class Qs extends(G=Hr,J=Qr,G){constructor(e){super(e,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(e){return new Us(e,this.config)}}On(Qs,J,"PgBigSerial64Builder");class Us extends(W=Wr,H=Qr,W){getSQLType(){return"bigserial"}mapFromDriverValue(e){return BigInt(e)}}function js(e,t){const{name:n,config:i}=Ds(e,t);return"number"===i.mode?new Ls(n):new Qs(n)}On(Us,H,"PgBigSerial64");class Os extends(X=Hr,Y=Qr,X){constructor(e){super(e,"boolean","PgBoolean")}build(e){return new Es(e,this.config)}}On(Os,Y,"PgBooleanBuilder");class Es extends(te=Wr,ee=Qr,te){getSQLType(){return"boolean"}}function $s(e){return new Os(e??"")}On(Es,ee,"PgBoolean");class Ms extends(ie=Hr,ne=Qr,ie){constructor(e,t){super(e,"string","PgChar"),this.config.length=t.length,this.config.enumValues=t.enum}build(e){return new Zs(e,this.config)}}On(Ms,ne,"PgCharBuilder");class Zs extends(se=Wr,re=Qr,se){constructor(){super(...arguments),On(this,"length",this.config.length),On(this,"enumValues",this.config.enumValues)}getSQLType(){return void 0===this.length?"char":`char(${this.length})`}}function Rs(e,t={}){const{name:n,config:i}=Ds(e,t);return new Ms(n,i)}On(Zs,re,"PgChar");class Js extends(ae=Hr,oe=Qr,ae){constructor(e){super(e,"string","PgCidr")}build(e){return new Gs(e,this.config)}}On(Js,oe,"PgCidrBuilder");class Gs extends(ue=Wr,le=Qr,ue){getSQLType(){return"cidr"}}function Hs(e){return new Js(e??"")}On(Gs,le,"PgCidr");class Ws extends(ce=Hr,de=Qr,ce){constructor(e,t,n){super(e,"custom","PgCustomColumn"),this.config.fieldConfig=t,this.config.customTypeParams=n}build(e){return new Ys(e,this.config)}}On(Ws,de,"PgCustomColumnBuilder");class Ys extends(pe=Wr,me=Qr,pe){constructor(e,t){super(e,t),On(this,"sqlName"),On(this,"mapTo"),On(this,"mapFrom"),this.sqlName=t.customTypeParams.dataType(t.fieldConfig),this.mapTo=t.customTypeParams.toDriver,this.mapFrom=t.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(e){return"function"==typeof this.mapFrom?this.mapFrom(e):e}mapToDriverValue(e){return"function"==typeof this.mapTo?this.mapTo(e):e}}function Xs(e){return(t,n)=>{const{name:i,config:r}=Ds(t,n);return new Ws(i,r,e)}}On(Ys,me,"PgCustomColumn");class eo extends(fe=Hr,ge=Qr,fe){defaultNow(){return this.default(Ss`now()`)}}On(eo,ge,"PgDateColumnBaseBuilder");class to extends(ye=eo,he=Qr,ye){constructor(e){super(e,"date","PgDate")}build(e){return new no(e,this.config)}}On(to,he,"PgDateBuilder");class no extends(Ne=Wr,_e=Qr,Ne){getSQLType(){return"date"}mapFromDriverValue(e){return new Date(e)}mapToDriverValue(e){return e.toISOString()}}On(no,_e,"PgDate");class io extends(we=eo,be=Qr,we){constructor(e){super(e,"string","PgDateString")}build(e){return new ro(e,this.config)}}On(io,be,"PgDateStringBuilder");class ro extends(ve=Wr,Ie=Qr,ve){getSQLType(){return"date"}}function so(e,t){const{name:n,config:i}=Ds(e,t);return"date"===i?.mode?new to(n):new io(n)}On(ro,Ie,"PgDateString");class oo extends(Pe=Hr,Se=Qr,Pe){constructor(e){super(e,"number","PgDoublePrecision")}build(e){return new ao(e,this.config)}}On(oo,Se,"PgDoublePrecisionBuilder");class ao extends(xe=Wr,Te=Qr,xe){getSQLType(){return"double precision"}mapFromDriverValue(e){return"string"==typeof e?Number.parseFloat(e):e}}function lo(e){return new oo(e??"")}On(ao,Te,"PgDoublePrecision");class uo extends(Ce=Hr,Ae=Qr,Ce){constructor(e){super(e,"string","PgInet")}build(e){return new co(e,this.config)}}On(uo,Ae,"PgInetBuilder");class co extends(qe=Wr,De=Qr,qe){getSQLType(){return"inet"}}function mo(e){return new uo(e??"")}On(co,De,"PgInet");class po extends(ze=qs,Be=Qr,ze){constructor(e){super(e,"number","PgInteger")}build(e){return new go(e,this.config)}}On(po,Be,"PgIntegerBuilder");class go extends(Fe=Wr,ke=Qr,Fe){getSQLType(){return"integer"}mapFromDriverValue(e){return"string"==typeof e?Number.parseInt(e):e}}function fo(e){return new po(e??"")}On(go,ke,"PgInteger");class ho extends(Le=Hr,Ve=Qr,Le){constructor(e,t){super(e,"string","PgInterval"),this.config.intervalConfig=t}build(e){return new yo(e,this.config)}}On(ho,Ve,"PgIntervalBuilder");class yo extends(Qe=Wr,Ke=Qr,Qe){constructor(){super(...arguments),On(this,"fields",this.config.intervalConfig.fields),On(this,"precision",this.config.intervalConfig.precision)}getSQLType(){return`interval${this.fields?` ${this.fields}`:""}${this.precision?`(${this.precision})`:""}`}}function _o(e,t={}){const{name:n,config:i}=Ds(e,t);return new ho(n,i)}On(yo,Ke,"PgInterval");class No extends(je=Hr,Ue=Qr,je){constructor(e){super(e,"json","PgJson")}build(e){return new bo(e,this.config)}}On(No,Ue,"PgJsonBuilder");class bo extends(Ee=Wr,Oe=Qr,Ee){constructor(e,t){super(e,t)}getSQLType(){return"json"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if("string"==typeof e)try{return JSON.parse(e)}catch{return e}return e}}function wo(e){return new No(e??"")}On(bo,Oe,"PgJson");class Io extends(Me=Hr,$e=Qr,Me){constructor(e){super(e,"json","PgJsonb")}build(e){return new vo(e,this.config)}}On(Io,$e,"PgJsonbBuilder");class vo extends(Re=Wr,Ze=Qr,Re){constructor(e,t){super(e,t)}getSQLType(){return"jsonb"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if("string"==typeof e)try{return JSON.parse(e)}catch{return e}return e}}function So(e){return new Io(e??"")}On(vo,Ze,"PgJsonb");class Po extends(Ge=Hr,Je=Qr,Ge){constructor(e){super(e,"array","PgLine")}build(e){return new To(e,this.config)}}On(Po,Je,"PgLineBuilder");class To extends(We=Wr,He=Qr,We){getSQLType(){return"line"}mapFromDriverValue(e){const[t,n,i]=e.slice(1,-1).split(",");return[Number.parseFloat(t),Number.parseFloat(n),Number.parseFloat(i)]}mapToDriverValue(e){return`{${e[0]},${e[1]},${e[2]}}`}}On(To,He,"PgLine");class xo extends(Xe=Hr,Ye=Qr,Xe){constructor(e){super(e,"json","PgLineABC")}build(e){return new Ao(e,this.config)}}On(xo,Ye,"PgLineABCBuilder");class Ao extends(tt=Wr,et=Qr,tt){getSQLType(){return"line"}mapFromDriverValue(e){const[t,n,i]=e.slice(1,-1).split(",");return{a:Number.parseFloat(t),b:Number.parseFloat(n),c:Number.parseFloat(i)}}mapToDriverValue(e){return`{${e.a},${e.b},${e.c}}`}}function Co(e,t){const{name:n,config:i}=Ds(e,t);return i?.mode&&"tuple"!==i.mode?new xo(n):new Po(n)}On(Ao,et,"PgLineABC");class Do extends(it=Hr,nt=Qr,it){constructor(e){super(e,"string","PgMacaddr")}build(e){return new qo(e,this.config)}}On(Do,nt,"PgMacaddrBuilder");class qo extends(st=Wr,rt=Qr,st){getSQLType(){return"macaddr"}}function Bo(e){return new Do(e??"")}On(qo,rt,"PgMacaddr");class zo extends(at=Hr,ot=Qr,at){constructor(e){super(e,"string","PgMacaddr8")}build(e){return new ko(e,this.config)}}On(zo,ot,"PgMacaddr8Builder");class ko extends(ut=Wr,lt=Qr,ut){getSQLType(){return"macaddr8"}}function Fo(e){return new zo(e??"")}On(ko,lt,"PgMacaddr8");class Vo extends(ct=Hr,dt=Qr,ct){constructor(e,t,n){super(e,"string","PgNumeric"),this.config.precision=t,this.config.scale=n}build(e){return new Lo(e,this.config)}}On(Vo,dt,"PgNumericBuilder");class Lo extends(pt=Wr,mt=Qr,pt){constructor(e,t){super(e,t),On(this,"precision"),On(this,"scale"),this.precision=t.precision,this.scale=t.scale}getSQLType(){return void 0!==this.precision&&void 0!==this.scale?`numeric(${this.precision}, ${this.scale})`:void 0===this.precision?"numeric":`numeric(${this.precision})`}}function Ko(e,t){const{name:n,config:i}=Ds(e,t);return new Vo(n,i?.precision,i?.scale)}On(Lo,mt,"PgNumeric");class Qo extends(ft=Hr,gt=Qr,ft){constructor(e){super(e,"array","PgPointTuple")}build(e){return new Uo(e,this.config)}}On(Qo,gt,"PgPointTupleBuilder");class Uo extends(yt=Wr,ht=Qr,yt){getSQLType(){return"point"}mapFromDriverValue(e){if("string"==typeof e){const[t,n]=e.slice(1,-1).split(",");return[Number.parseFloat(t),Number.parseFloat(n)]}return[e.x,e.y]}mapToDriverValue(e){return`(${e[0]},${e[1]})`}}On(Uo,ht,"PgPointTuple");class jo extends(Nt=Hr,_t=Qr,Nt){constructor(e){super(e,"json","PgPointObject")}build(e){return new Oo(e,this.config)}}On(jo,_t,"PgPointObjectBuilder");class Oo extends(wt=Wr,bt=Qr,wt){getSQLType(){return"point"}mapFromDriverValue(e){if("string"==typeof e){const[t,n]=e.slice(1,-1).split(",");return{x:Number.parseFloat(t),y:Number.parseFloat(n)}}return e}mapToDriverValue(e){return`(${e.x},${e.y})`}}function Eo(e,t){const{name:n,config:i}=Ds(e,t);return i?.mode&&"tuple"!==i.mode?new jo(n):new Qo(n)}function $o(e,t){const n=new ArrayBuffer(8),i=new DataView(n);for(let r=0;r<8;r++)i.setUint8(r,e[t+r]);return i.getFloat64(0,!0)}function Mo(e){const t=function(e){const t=[];for(let n=0;n<e.length;n+=2)t.push(Number.parseInt(e.slice(n,n+2),16));return new Uint8Array(t)}(e);let n=0;const i=t[n];n+=1;const r=new DataView(t.buffer),s=r.getUint32(n,1===i);if(n+=4,536870912&s&&(r.getUint32(n,1===i),n+=4),1==(65535&s)){const e=$o(t,n);n+=8;const i=$o(t,n);return n+=8,[e,i]}throw new Error("Unsupported geometry type")}On(Oo,bt,"PgPointObject");class Zo extends(vt=Hr,It=Qr,vt){constructor(e){super(e,"array","PgGeometry")}build(e){return new Ro(e,this.config)}}On(Zo,It,"PgGeometryBuilder");class Ro extends(Pt=Wr,St=Qr,Pt){getSQLType(){return"geometry(point)"}mapFromDriverValue(e){return Mo(e)}mapToDriverValue(e){return`point(${e[0]} ${e[1]})`}}On(Ro,St,"PgGeometry");class Jo extends(xt=Hr,Tt=Qr,xt){constructor(e){super(e,"json","PgGeometryObject")}build(e){return new Go(e,this.config)}}On(Jo,Tt,"PgGeometryObjectBuilder");class Go extends(Ct=Wr,At=Qr,Ct){getSQLType(){return"geometry(point)"}mapFromDriverValue(e){const t=Mo(e);return{x:t[0],y:t[1]}}mapToDriverValue(e){return`point(${e.x} ${e.y})`}}function Ho(e,t){const{name:n,config:i}=Ds(e,t);return i?.mode&&"tuple"!==i.mode?new Jo(n):new Zo(n)}On(Go,At,"PgGeometryObject");class Wo extends(qt=Hr,Dt=Qr,qt){constructor(e,t){super(e,"number","PgReal"),this.config.length=t}build(e){return new Yo(e,this.config)}}On(Wo,Dt,"PgRealBuilder");class Yo extends(zt=Wr,Bt=Qr,zt){constructor(e,t){super(e,t),On(this,"mapFromDriverValue",e=>"string"==typeof e?Number.parseFloat(e):e)}getSQLType(){return"real"}}function Xo(e){return new Wo(e??"")}On(Yo,Bt,"PgReal");class ea extends(Ft=Hr,kt=Qr,Ft){constructor(e){super(e,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new ta(e,this.config)}}On(ea,kt,"PgSerialBuilder");class ta extends(Lt=Wr,Vt=Qr,Lt){getSQLType(){return"serial"}}function na(e){return new ea(e??"")}On(ta,Vt,"PgSerial");class ia extends(Qt=qs,Kt=Qr,Qt){constructor(e){super(e,"number","PgSmallInt")}build(e){return new ra(e,this.config)}}On(ia,Kt,"PgSmallIntBuilder");class ra extends(jt=Wr,Ut=Qr,jt){constructor(){super(...arguments),On(this,"mapFromDriverValue",e=>"string"==typeof e?Number(e):e)}getSQLType(){return"smallint"}}function sa(e){return new ia(e??"")}On(ra,Ut,"PgSmallInt");class oa extends(Et=Hr,Ot=Qr,Et){constructor(e){super(e,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new aa(e,this.config)}}On(oa,Ot,"PgSmallSerialBuilder");class aa extends(Mt=Wr,$t=Qr,Mt){getSQLType(){return"smallserial"}}function la(e){return new oa(e??"")}On(aa,$t,"PgSmallSerial");class ua extends(Rt=Hr,Zt=Qr,Rt){constructor(e,t){super(e,"string","PgText"),this.config.enumValues=t.enum}build(e){return new da(e,this.config)}}On(ua,Zt,"PgTextBuilder");class da extends(Gt=Wr,Jt=Qr,Gt){constructor(){super(...arguments),On(this,"enumValues",this.config.enumValues)}getSQLType(){return"text"}}function ca(e,t={}){const{name:n,config:i}=Ds(e,t);return new ua(n,i)}On(da,Jt,"PgText");class ma extends(Wt=eo,Ht=Qr,Wt){constructor(e,t,n){super(e,"string","PgTime"),this.withTimezone=t,this.precision=n,this.config.withTimezone=t,this.config.precision=n}build(e){return new pa(e,this.config)}}On(ma,Ht,"PgTimeBuilder");class pa extends(Xt=Wr,Yt=Qr,Xt){constructor(e,t){super(e,t),On(this,"withTimezone"),On(this,"precision"),this.withTimezone=t.withTimezone,this.precision=t.precision}getSQLType(){return`time${void 0===this.precision?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}function ga(e,t={}){const{name:n,config:i}=Ds(e,t);return new ma(n,i.withTimezone??!1,i.precision)}On(pa,Yt,"PgTime");class fa extends(tn=eo,en=Qr,tn){constructor(e,t,n){super(e,"date","PgTimestamp"),this.config.withTimezone=t,this.config.precision=n}build(e){return new ha(e,this.config)}}On(fa,en,"PgTimestampBuilder");class ha extends(rn=Wr,nn=Qr,rn){constructor(e,t){super(e,t),On(this,"withTimezone"),On(this,"precision"),On(this,"mapFromDriverValue",e=>new Date(this.withTimezone?e:e+"+0000")),On(this,"mapToDriverValue",e=>e.toISOString()),this.withTimezone=t.withTimezone,this.precision=t.precision}getSQLType(){return`timestamp${void 0===this.precision?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}}On(ha,nn,"PgTimestamp");class ya extends(on=eo,sn=Qr,on){constructor(e,t,n){super(e,"string","PgTimestampString"),this.config.withTimezone=t,this.config.precision=n}build(e){return new _a(e,this.config)}}On(ya,sn,"PgTimestampStringBuilder");class _a extends(ln=Wr,an=Qr,ln){constructor(e,t){super(e,t),On(this,"withTimezone"),On(this,"precision"),this.withTimezone=t.withTimezone,this.precision=t.precision}getSQLType(){return`timestamp${void 0===this.precision?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}function Na(e,t={}){const{name:n,config:i}=Ds(e,t);return"string"===i?.mode?new ya(n,i.withTimezone??!1,i.precision):new fa(n,i?.withTimezone??!1,i?.precision)}On(_a,an,"PgTimestampString");class ba extends(dn=Hr,un=Qr,dn){constructor(e){super(e,"string","PgUUID")}defaultRandom(){return this.default(Ss`gen_random_uuid()`)}build(e){return new wa(e,this.config)}}On(ba,un,"PgUUIDBuilder");class wa extends(mn=Wr,cn=Qr,mn){getSQLType(){return"uuid"}}function Ia(e){return new ba(e??"")}On(wa,cn,"PgUUID");class va extends(gn=Hr,pn=Qr,gn){constructor(e,t){super(e,"string","PgVarchar"),this.config.length=t.length,this.config.enumValues=t.enum}build(e){return new Sa(e,this.config)}}On(va,pn,"PgVarcharBuilder");class Sa extends(hn=Wr,fn=Qr,hn){constructor(){super(...arguments),On(this,"length",this.config.length),On(this,"enumValues",this.config.enumValues)}getSQLType(){return void 0===this.length?"varchar":`varchar(${this.length})`}}function Pa(e,t={}){const{name:n,config:i}=Ds(e,t);return new va(n,i)}On(Sa,fn,"PgVarchar");class Ta extends(_n=Hr,yn=Qr,_n){constructor(e,t){super(e,"string","PgBinaryVector"),this.config.dimensions=t.dimensions}build(e){return new xa(e,this.config)}}On(Ta,yn,"PgBinaryVectorBuilder");class xa extends(bn=Wr,Nn=Qr,bn){constructor(){super(...arguments),On(this,"dimensions",this.config.dimensions)}getSQLType(){return`bit(${this.dimensions})`}}function Aa(e,t){const{name:n,config:i}=Ds(e,t);return new Ta(n,i)}On(xa,Nn,"PgBinaryVector");class Ca extends(In=Hr,wn=Qr,In){constructor(e,t){super(e,"array","PgHalfVector"),this.config.dimensions=t.dimensions}build(e){return new Da(e,this.config)}}On(Ca,wn,"PgHalfVectorBuilder");class Da extends(Sn=Wr,vn=Qr,Sn){constructor(){super(...arguments),On(this,"dimensions",this.config.dimensions)}getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){return e.slice(1,-1).split(",").map(e=>Number.parseFloat(e))}}function qa(e,t){const{name:n,config:i}=Ds(e,t);return new Ca(n,i)}On(Da,vn,"PgHalfVector");class Ba extends(Tn=Hr,Pn=Qr,Tn){constructor(e,t){super(e,"string","PgSparseVector"),this.config.dimensions=t.dimensions}build(e){return new za(e,this.config)}}On(Ba,Pn,"PgSparseVectorBuilder");class za extends(An=Wr,xn=Qr,An){constructor(){super(...arguments),On(this,"dimensions",this.config.dimensions)}getSQLType(){return`sparsevec(${this.dimensions})`}}function ka(e,t){const{name:n,config:i}=Ds(e,t);return new Ba(n,i)}On(za,xn,"PgSparseVector");class Fa extends(Dn=Hr,Cn=Qr,Dn){constructor(e,t){super(e,"array","PgVector"),this.config.dimensions=t.dimensions}build(e){return new Va(e,this.config)}}On(Fa,Cn,"PgVectorBuilder");class Va extends(Bn=Wr,qn=Qr,Bn){constructor(){super(...arguments),On(this,"dimensions",this.config.dimensions)}getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){return e.slice(1,-1).split(",").map(e=>Number.parseFloat(e))}}function La(e,t){const{name:n,config:i}=Ds(e,t);return new Fa(n,i)}On(Va,qn,"PgVector");const Ka=Symbol.for("drizzle:PgInlineForeignKeys"),Qa=Symbol.for("drizzle:EnableRLS");class Ua extends(Ln=fs,Vn=Qr,Fn=Ka,kn=Qa,zn=fs.Symbol.ExtraConfigBuilder,Ln){constructor(){super(...arguments),On(this,Fn,[]),On(this,kn,!1),On(this,zn)}}function ja(e,t,n,i,r=e){const s=new Ua(e,i,r),o="function"==typeof t?t({bigint:Vs,bigserial:js,boolean:$s,char:Rs,cidr:Hs,customType:Xs,date:so,doublePrecision:lo,inet:mo,integer:fo,interval:_o,json:wo,jsonb:So,line:Co,macaddr:Bo,macaddr8:Fo,numeric:Ko,point:Eo,geometry:Ho,real:Xo,serial:na,smallint:sa,smallserial:la,text:ca,time:ga,timestamp:Na,uuid:Ia,varchar:Pa,bit:Aa,halfvec:qa,sparsevec:ka,vector:La}):t,a=Object.fromEntries(Object.entries(o).map(([e,t])=>{const n=t;n.setName(e);const i=n.build(s);return s[Ka].push(...n.buildForeignKeys(i,s)),[e,i]})),l=Object.fromEntries(Object.entries(o).map(([e,t])=>{const n=t;n.setName(e);return[e,n.buildExtraConfigColumn(s)]})),u=Object.assign(s,a);return u[fs.Symbol.Columns]=a,u[fs.Symbol.ExtraConfigColumns]=l,n&&(u[Ua.Symbol.ExtraConfigBuilder]=n),Object.assign(u,{enableRLS:()=>(u[Ua.Symbol.EnableRLS]=!0,u)})}On(Ua,Vn,"PgTable"),On(Ua,"Symbol",Object.assign({},fs.Symbol,{InlineForeignKeys:Ka,EnableRLS:Qa}));const Oa=(e,t,n)=>ja(e,t,n,void 0);Kn=Qr;class Ea{constructor(e,t){this.unique=e,this.name=t}on(...e){return new $a(e.map(e=>{if(Ur(e,Ns))return e;const t=new Xr(e.name,!!e.keyAsName,e.columnType,e.indexConfig);return e.indexConfig=JSON.parse(JSON.stringify(e.defaultConfig)),t}),this.unique,!1,this.name)}onOnly(...e){return new $a(e.map(e=>{if(Ur(e,Ns))return e;const t=new Xr(e.name,!!e.keyAsName,e.columnType,e.indexConfig);return e.indexConfig=e.defaultConfig,t}),this.unique,!0,this.name)}using(e,...t){return new $a(t.map(e=>{if(Ur(e,Ns))return e;const t=new Xr(e.name,!!e.keyAsName,e.columnType,e.indexConfig);return e.indexConfig=JSON.parse(JSON.stringify(e.defaultConfig)),t}),this.unique,!0,this.name,e)}}On(Ea,Kn,"PgIndexBuilderOn"),Qn=Qr;class $a{constructor(e,t,n,i,r="btree"){On(this,"config"),this.config={name:i,columns:e,unique:t,only:n,method:r}}concurrently(){return this.config.concurrently=!0,this}with(e){return this.config.with=e,this}where(e){return this.config.where=e,this}build(e){return new Ma(this.config,e)}}On($a,Qn,"PgIndexBuilder"),Un=Qr;class Ma{constructor(e,t){On(this,"config"),this.config={...e,table:t}}}On(Ma,Un,"PgIndex");const Za=-128,Ra=127,Ja=255,Ga=-32768,Ha=32767,Wa=65535,Ya=-8388608,Xa=8388607,el=16777215,tl=-2147483648,nl=2147483647,il=4294967295,rl=-0x800000000000,sl=0x7fffffffffff,ol=0xffffffffffff,al=-9223372036854775808n,ll=9223372036854775807n,ul=18446744073709551615n;function dl(e,t){return t.includes(e.columnType)}const cl=kr([Dr(),fr(),ji(),pr()]),ml=kr([cl,Tr(Ki()),Qi(Ki())]),pl=Ei(e=>e instanceof Buffer);function gl(e,t){const n=t?.zodInstance??Kr,i=t?.coerce??{};let r;return function(e){return"enumValues"in e&&Array.isArray(e.enumValues)&&e.enumValues.length>0}(e)&&(r=e.enumValues.length?n.enum(e.enumValues):n.string()),r||(dl(e,["PgGeometry","PgPointTuple"])?r=n.tuple([n.number(),n.number()]):dl(e,["PgGeometryObject","PgPointObject"])?r=n.object({x:n.number(),y:n.number()}):dl(e,["PgHalfVector","PgVector"])?(r=n.array(n.number()),r=e.dimensions?r.length(e.dimensions):r):dl(e,["PgLine"])?r=n.tuple([n.number(),n.number(),n.number()]):dl(e,["PgLineABC"])?r=n.object({a:n.number(),b:n.number(),c:n.number()}):dl(e,["PgArray"])?(r=n.array(gl(e.baseColumn,n)),r=e.size?r.length(e.size):r):"array"===e.dataType?r=n.array(n.any()):"number"===e.dataType?r=function(e,t,n){let i,r,s=e.getSQLType().includes("unsigned"),o=!1;dl(e,["MySqlTinyInt","SingleStoreTinyInt"])?(i=s?0:Za,r=s?Ja:Ra,o=!0):dl(e,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(i=s?0:Ga,r=s?Wa:Ha,o=!0):dl(e,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(i=s?0:Ya,r=s?el:Xa,o=dl(e,["MySqlMediumInt","SingleStoreMediumInt"])):dl(e,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(i=s?0:tl,r=s?il:nl,o=!0):dl(e,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(i=s?0:rl,r=s?ol:sl):dl(e,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(s=s||dl(e,["MySqlSerial","SingleStoreSerial"]),i=s?0:Number.MIN_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER,o=!0):dl(e,["MySqlYear","SingleStoreYear"])?(i=1901,r=2155,o=!0):(i=Number.MIN_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER);let a=!0===n||n?.number?t.coerce.number():t.number();return a=a.min(i).max(r),o?a.int():a}(e,n,i):"bigint"===e.dataType?r=function(e,t,n){const i=e.getSQLType().includes("unsigned"),r=i?0n:al,s=i?ul:ll,o=!0===n||n?.bigint?t.coerce.bigint():t.bigint();return o.min(r).max(s)}(e,n,i):"boolean"===e.dataType?r=!0===i||i.boolean?n.coerce.boolean():n.boolean():"date"===e.dataType?r=!0===i||i.date?n.coerce.date():n.date():"string"===e.dataType?r=function(e,t,n){if(dl(e,["PgUUID"]))return t.string().uuid();let i,r,s=!1;dl(e,["PgVarchar","SQLiteText"])?i=e.length:dl(e,["MySqlVarChar","SingleStoreVarChar"])?i=e.length??Wa:dl(e,["MySqlText","SingleStoreText"])&&(i="longtext"===e.textType?il:"mediumtext"===e.textType?el:"text"===e.textType?Wa:Ja);dl(e,["PgChar","MySqlChar","SingleStoreChar"])&&(i=e.length,s=!0);dl(e,["PgBinaryVector"])&&(r=/^[01]+$/,i=e.dimensions);let o=!0===n||n?.string?t.coerce.string():t.string();return o=r?o.regex(r):o,i&&s?o.length(i):i?o.max(i):o}(e,n,i):"json"===e.dataType?r=ml:"custom"===e.dataType?r=n.any():"buffer"===e.dataType&&(r=pl)),r||(r=n.any()),r}function fl(e){return hs(e)?e[fs.Symbol.Columns]:e[os].selectedFields}function hl(e,t,n,i){const r={};for(const[s,o]of Object.entries(e)){if(!Ur(o,jr)&&!Ur(o,Ns)&&!Ur(o,Ns.Aliased)&&"object"==typeof o){const e=hs(o)||Cs(o)?fl(o):o;r[s]=hl(e,t[s]??{},n,i);continue}const e=t[s];if(void 0!==e&&"function"!=typeof e){r[s]=e;continue}const a=Ur(o,jr)?o:void 0,l=a?gl(a,i):Ki(),u="function"==typeof e?e(l):l;n.never(a)||(r[s]=u,a&&(n.nullable(a)&&(r[s]=r[s].nullable()),n.optional(a)&&(r[s]=r[s].optional())))}return hr(r)}const yl={never:e=>"always"===e?.generated?.type||"always"===e?.generatedIdentity?.type,optional:e=>!e.notNull||e.notNull&&e.hasDefault,nullable:e=>!e.notNull},_l=(e,t)=>hl(fl(e),{},yl);Oa("sessions",{sid:Pa("sid").primaryKey(),sess:So("sess").notNull(),expire:Na("expire").notNull()},e=>{return[(t="IDX_session_expire",new Ea(!1,t)).on(e.expire)];var t});const Nl=Oa("users",{id:na("id").primaryKey(),username:ca("username").notNull().unique(),email:ca("email").notNull().unique(),password:ca("password").notNull(),displayName:ca("display_name"),bio:ca("bio"),avatarUrl:ca("avatar_url"),city:ca("city"),state:ca("state"),zipCode:ca("zip_code"),latitude:ca("latitude"),longitude:ca("longitude"),onboardingCompleted:$s("onboarding_completed").default(!1),isVerifiedApologeticsAnswerer:$s("is_verified_apologetics_answerer").default(!1),isAdmin:$s("is_admin").default(!1),createdAt:Na("created_at").defaultNow(),updatedAt:Na("updated_at").defaultNow()}),bl=_l(Nl).omit({id:!0,isVerifiedApologeticsAnswerer:!0,createdAt:!0,updatedAt:!0}),wl=Oa("organizations",{id:na("id").primaryKey(),name:ca("name").notNull(),description:ca("description"),adminUserId:fo("admin_user_id").notNull().references(()=>Nl.id),plan:ca("plan").default("free"),website:ca("website"),email:ca("email"),logoUrl:ca("logo_url"),mission:ca("mission"),serviceTimes:ca("service_times"),socialMedia:ca("social_media"),foundedDate:so("founded_date"),congregationSize:fo("congregation_size"),address:ca("address"),city:ca("city"),state:ca("state"),zipCode:ca("zip_code"),phone:ca("phone"),denomination:ca("denomination"),createdAt:Na("created_at").defaultNow(),updatedAt:Na("updated_at").defaultNow()});_l(wl).pick({name:!0,description:!0,adminUserId:!0,website:!0,email:!0,logoUrl:!0,mission:!0,serviceTimes:!0,socialMedia:!0,foundedDate:!0,congregationSize:!0,address:!0,city:!0,state:!0,zipCode:!0,phone:!0,denomination:!0});_l(Oa("organization_users",{id:na("id").primaryKey(),organizationId:fo("organization_id").notNull().references(()=>wl.id),userId:fo("user_id").notNull().references(()=>Nl.id),role:ca("role").default("member"),joinedAt:Na("joined_at").defaultNow()})).pick({organizationId:!0,userId:!0,role:!0});const Il=Oa("communities",{id:na("id").primaryKey(),name:ca("name").notNull().unique(),description:ca("description").notNull(),slug:ca("slug").notNull().unique(),iconName:ca("icon_name").notNull(),iconColor:ca("icon_color").notNull(),interestTags:ca("interest_tags").array(),city:ca("city"),state:ca("state"),isLocalCommunity:$s("is_local_community").default(!1),latitude:ca("latitude"),longitude:ca("longitude"),memberCount:fo("member_count").default(0),isPrivate:$s("is_private").default(!1),hasPrivateWall:$s("has_private_wall").default(!1),hasPublicWall:$s("has_public_wall").default(!0),createdAt:Na("created_at").defaultNow(),createdBy:fo("created_by").references(()=>Nl.id)});_l(Il).omit({id:!0,memberCount:!0,createdAt:!0}).refine(e=>e.name&&e.name.trim().length>0,{message:"Community name is required and cannot be empty",path:["name"]}).refine(e=>e.hasPrivateWall||e.hasPublicWall,{message:"At least one wall (private or public) must be enabled",path:["hasPublicWall"]});_l(Oa("community_members",{id:na("id").primaryKey(),communityId:fo("community_id").references(()=>Il.id).notNull(),userId:fo("user_id").references(()=>Nl.id).notNull(),role:ca("role").notNull().default("member"),joinedAt:Na("joined_at").defaultNow()})).pick({communityId:!0,userId:!0,role:!0});_l(Oa("community_invitations",{id:na("id").primaryKey(),communityId:fo("community_id").references(()=>Il.id).notNull(),inviterUserId:fo("inviter_user_id").references(()=>Nl.id).notNull(),inviteeEmail:ca("invitee_email").notNull(),inviteeUserId:fo("invitee_user_id").references(()=>Nl.id),status:ca("status").notNull().default("pending"),token:ca("token").notNull().unique(),createdAt:Na("created_at").defaultNow(),expiresAt:Na("expires_at").notNull()})).pick({communityId:!0,inviterUserId:!0,inviteeEmail:!0,inviteeUserId:!0,status:!0,token:!0,expiresAt:!0});_l(Oa("user_follows",{id:na("id").primaryKey(),followerId:fo("follower_id").references(()=>Nl.id).notNull(),followingId:fo("following_id").references(()=>Nl.id).notNull(),createdAt:Na("created_at").defaultNow()})).pick({followerId:!0,followingId:!0});_l(Oa("user_interactions",{id:na("id").primaryKey(),userId:fo("user_id").references(()=>Nl.id).notNull(),contentId:fo("content_id").notNull(),contentType:ca("content_type").notNull(),interactionType:ca("interaction_type").notNull(),interactionStrength:fo("interaction_strength").default(1),metadata:So("metadata"),createdAt:Na("created_at").defaultNow()})).pick({userId:!0,contentId:!0,contentType:!0,interactionType:!0,interactionStrength:!0});const vl=Oa("community_chat_rooms",{id:na("id").primaryKey(),communityId:fo("community_id").references(()=>Il.id).notNull(),name:ca("name").notNull(),description:ca("description"),isPrivate:$s("is_private").default(!1),createdAt:Na("created_at").defaultNow(),createdBy:fo("created_by").references(()=>Nl.id).notNull()});_l(vl).pick({communityId:!0,name:!0,description:!0,isPrivate:!0,createdBy:!0});_l(Oa("chat_messages",{id:na("id").primaryKey(),content:ca("content").notNull(),chatRoomId:fo("chat_room_id").references(()=>vl.id).notNull(),senderId:fo("sender_id").references(()=>Nl.id).notNull(),isSystemMessage:$s("is_system_message").default(!1),createdAt:Na("created_at").defaultNow()})).pick({content:!0,chatRoomId:!0,senderId:!0,isSystemMessage:!0});_l(Oa("community_wall_posts",{id:na("id").primaryKey(),communityId:fo("community_id").references(()=>Il.id).notNull(),authorId:fo("author_id").references(()=>Nl.id).notNull(),content:ca("content").notNull(),imageUrl:ca("image_url"),isPrivate:$s("is_private").default(!1),likeCount:fo("like_count").default(0),commentCount:fo("comment_count").default(0),createdAt:Na("created_at").defaultNow()})).pick({communityId:!0,authorId:!0,content:!0,imageUrl:!0,isPrivate:!0});const Sl=Oa("groups",{id:na("id").primaryKey(),name:ca("name").notNull(),description:ca("description").notNull(),iconName:ca("icon_name").notNull(),iconColor:ca("icon_color").notNull(),isPrivate:$s("is_private").default(!0),createdAt:Na("created_at").defaultNow(),createdBy:fo("created_by").references(()=>Nl.id)});_l(Sl).pick({name:!0,description:!0,iconName:!0,iconColor:!0,isPrivate:!0,createdBy:!0});_l(Oa("group_members",{id:na("id").primaryKey(),groupId:fo("group_id").references(()=>Sl.id).notNull(),userId:fo("user_id").references(()=>Nl.id).notNull(),isAdmin:$s("is_admin").default(!1),joinedAt:Na("joined_at").defaultNow()})).pick({groupId:!0,userId:!0,isAdmin:!0});_l(Oa("posts",{id:na("id").primaryKey(),title:ca("title").notNull(),content:ca("content").notNull(),imageUrl:ca("image_url"),communityId:fo("community_id").references(()=>Il.id),groupId:fo("group_id").references(()=>Sl.id),authorId:fo("author_id").references(()=>Nl.id),upvotes:fo("upvotes").default(0),commentCount:fo("comment_count").default(0),createdAt:Na("created_at").defaultNow()})).pick({title:!0,content:!0,imageUrl:!0,communityId:!0,groupId:!0,authorId:!0});const Pl=_l(Oa("comments",{id:na("id").primaryKey(),content:ca("content").notNull(),postId:fo("post_id").notNull(),authorId:fo("author_id"),parentId:fo("parent_id"),upvotes:fo("upvotes").default(0),createdAt:Na("created_at").defaultNow()})).pick({content:!0,postId:!0,authorId:!0,parentId:!0});_l(Oa("apologetics_resources",{id:na("id").primaryKey(),title:ca("title").notNull(),description:ca("description").notNull(),type:ca("type").notNull(),iconName:ca("icon_name").notNull(),url:ca("url"),createdAt:Na("created_at").defaultNow()})).pick({title:!0,description:!0,type:!0,iconName:!0,url:!0});const Tl=Oa("apologetics_topics",{id:na("id").primaryKey(),name:ca("name").notNull().unique(),description:ca("description").notNull(),iconName:ca("icon_name").notNull(),slug:ca("slug").notNull().unique(),createdAt:Na("created_at").defaultNow()});_l(Tl).pick({name:!0,description:!0,iconName:!0,slug:!0});const xl=Oa("apologetics_questions",{id:na("id").primaryKey(),title:ca("title").notNull(),content:ca("content").notNull(),authorId:fo("author_id").references(()=>Nl.id).notNull(),topicId:fo("topic_id").references(()=>Tl.id).notNull(),status:ca("status").notNull().default("open"),answerCount:fo("answer_count").default(0),viewCount:fo("view_count").default(0),createdAt:Na("created_at").defaultNow()});_l(xl).pick({title:!0,content:!0,authorId:!0,topicId:!0,status:!0});_l(Oa("apologetics_answers",{id:na("id").primaryKey(),content:ca("content").notNull(),questionId:fo("question_id").references(()=>xl.id).notNull(),authorId:fo("author_id").references(()=>Nl.id).notNull(),isVerifiedAnswer:$s("is_verified_answer").default(!1),upvotes:fo("upvotes").default(0),createdAt:Na("created_at").defaultNow()})).pick({content:!0,questionId:!0,authorId:!0,isVerifiedAnswer:!0});const Al=Oa("livestreams",{id:na("id").primaryKey(),title:ca("title").notNull(),description:ca("description").notNull(),hostId:fo("host_id").references(()=>Nl.id).notNull(),thumbnail:ca("thumbnail"),status:ca("status").notNull().default("upcoming"),viewerCount:fo("viewer_count").default(0),scheduledFor:Na("scheduled_for"),duration:ca("duration"),tags:ca("tags"),createdAt:Na("created_at").defaultNow()});_l(Al).pick({title:!0,description:!0,hostId:!0,thumbnail:!0,status:!0,scheduledFor:!0,duration:!0,tags:!0});const Cl=_l(Oa("livestreamer_applications",{id:na("id").primaryKey(),userId:fo("user_id").references(()=>Nl.id).notNull(),status:ca("status").notNull().default("pending"),ministryName:ca("ministry_name"),ministryDescription:ca("ministry_description").notNull(),ministerialExperience:ca("ministerial_experience"),statementOfFaith:ca("statement_of_faith").notNull(),socialMediaLinks:ca("social_media_links"),referenceName:ca("reference_name").notNull(),referenceContact:ca("reference_contact").notNull(),referenceRelationship:ca("reference_relationship").notNull(),sampleContentUrl:ca("sample_content_url").notNull(),livestreamTopics:ca("livestream_topics").notNull(),targetAudience:ca("target_audience").notNull(),agreedToTerms:$s("agreed_to_terms").notNull(),reviewedBy:fo("reviewed_by").references(()=>Nl.id),reviewNotes:ca("review_notes"),reviewedAt:Na("reviewed_at"),submittedAt:Na("submitted_at").defaultNow()})).pick({userId:!0,ministryName:!0,ministryDescription:!0,ministerialExperience:!0,statementOfFaith:!0,socialMediaLinks:!0,referenceName:!0,referenceContact:!0,referenceRelationship:!0,sampleContentUrl:!0,livestreamTopics:!0,targetAudience:!0,agreedToTerms:!0}),Dl=Oa("creator_tiers",{id:na("id").primaryKey(),name:ca("name").notNull(),description:ca("description").notNull(),requirements:ca("requirements").notNull(),benefits:ca("benefits").notNull(),iconName:ca("icon_name").notNull(),order:fo("order").notNull(),createdAt:Na("created_at").defaultNow()});_l(Dl).pick({name:!0,description:!0,requirements:!0,benefits:!0,iconName:!0,order:!0});_l(Oa("user_creator_tiers",{id:na("id").primaryKey(),userId:fo("user_id").references(()=>Nl.id).notNull(),tierId:fo("tier_id").references(()=>Dl.id).notNull(),assignedAt:Na("assigned_at").defaultNow(),validUntil:Na("valid_until")})).pick({userId:!0,tierId:!0,validUntil:!0});const ql=Oa("virtual_gifts",{id:na("id").primaryKey(),name:ca("name").notNull(),description:ca("description").notNull(),iconName:ca("icon_name").notNull(),value:fo("value").notNull(),isActive:$s("is_active").default(!0),createdAt:Na("created_at").defaultNow()});_l(ql).pick({name:!0,description:!0,iconName:!0,value:!0,isActive:!0});_l(Oa("livestream_gifts",{id:na("id").primaryKey(),livestreamId:fo("livestream_id").references(()=>Al.id).notNull(),giftId:fo("gift_id").references(()=>ql.id).notNull(),senderId:fo("sender_id").references(()=>Nl.id),receiverId:fo("receiver_id").references(()=>Nl.id).notNull(),message:ca("message"),sentAt:Na("sent_at").defaultNow()})).pick({livestreamId:!0,giftId:!0,senderId:!0,receiverId:!0,message:!0});const Bl=_l(Oa("apologist_scholar_applications",{id:na("id").primaryKey(),userId:fo("user_id").references(()=>Nl.id).notNull(),status:ca("status").notNull().default("pending"),fullName:ca("full_name").notNull(),academicCredentials:ca("academic_credentials").notNull(),educationalBackground:ca("educational_background").notNull(),theologicalPerspective:ca("theological_perspective").notNull(),statementOfFaith:ca("statement_of_faith").notNull(),areasOfExpertise:ca("areas_of_expertise").notNull(),publishedWorks:ca("published_works"),priorApologeticsExperience:ca("prior_apologetics_experience").notNull(),writingSample:ca("writing_sample").notNull(),onlineSocialHandles:ca("online_social_handles"),referenceName:ca("reference_name").notNull(),referenceContact:ca("reference_contact").notNull(),referenceInstitution:ca("reference_institution").notNull(),motivation:ca("motivation").notNull(),weeklyTimeCommitment:ca("weekly_time_commitment").notNull(),agreedToGuidelines:$s("agreed_to_guidelines").notNull(),reviewedBy:fo("reviewed_by").references(()=>Nl.id),reviewNotes:ca("review_notes"),reviewedAt:Na("reviewed_at"),submittedAt:Na("submitted_at").defaultNow()})).pick({userId:!0,fullName:!0,academicCredentials:!0,educationalBackground:!0,theologicalPerspective:!0,statementOfFaith:!0,areasOfExpertise:!0,publishedWorks:!0,priorApologeticsExperience:!0,writingSample:!0,onlineSocialHandles:!0,referenceName:!0,referenceContact:!0,referenceInstitution:!0,motivation:!0,weeklyTimeCommitment:!0,agreedToGuidelines:!0}),zl=Oa("microblogs",{id:na("id").primaryKey(),content:ca("content").notNull(),imageUrl:ca("image_url"),authorId:fo("author_id").references(()=>Nl.id).notNull(),communityId:fo("community_id").references(()=>Il.id),groupId:fo("group_id").references(()=>Sl.id),likeCount:fo("like_count").default(0),repostCount:fo("repost_count").default(0),replyCount:fo("reply_count").default(0),parentId:fo("parent_id").references(()=>zl.id),createdAt:Na("created_at").defaultNow()});_l(zl).pick({content:!0,imageUrl:!0,authorId:!0,communityId:!0,groupId:!0,parentId:!0});_l(Oa("microblog_likes",{id:na("id").primaryKey(),microblogId:fo("microblog_id").references(()=>zl.id).notNull(),userId:fo("user_id").references(()=>Nl.id).notNull(),createdAt:Na("created_at").defaultNow()})).pick({microblogId:!0,userId:!0});const kl=Oa("events",{id:na("id").primaryKey(),title:ca("title").notNull(),description:ca("description").notNull(),location:ca("location"),address:ca("address"),city:ca("city"),state:ca("state"),zipCode:ca("zip_code"),isVirtual:$s("is_virtual").default(!1),isPublic:$s("is_public").default(!1),showOnMap:$s("show_on_map").default(!0),virtualMeetingUrl:ca("virtual_meeting_url"),eventDate:so("event_date").notNull(),startTime:ga("start_time").notNull(),endTime:ga("end_time").notNull(),imageUrl:ca("image_url"),latitude:ca("latitude"),longitude:ca("longitude"),communityId:fo("community_id").references(()=>Il.id),groupId:fo("group_id").references(()=>Sl.id),creatorId:fo("creator_id").notNull().references(()=>Nl.id),createdAt:Na("created_at").defaultNow()});_l(kl).pick({title:!0,description:!0,location:!0,address:!0,city:!0,state:!0,zipCode:!0,isVirtual:!0,isPublic:!0,showOnMap:!0,virtualMeetingUrl:!0,eventDate:!0,startTime:!0,endTime:!0,imageUrl:!0,latitude:!0,longitude:!0,communityId:!0,groupId:!0,creatorId:!0});_l(Oa("event_rsvps",{id:na("id").primaryKey(),eventId:fo("event_id").notNull().references(()=>kl.id),userId:fo("user_id").notNull().references(()=>Nl.id),status:ca("status").notNull(),createdAt:Na("created_at").defaultNow()})).pick({eventId:!0,userId:!0,status:!0});const Fl=Oa("prayer_requests",{id:na("id").primaryKey(),title:ca("title").notNull(),content:ca("content").notNull(),isAnonymous:$s("is_anonymous").default(!1),privacyLevel:ca("privacy_level").notNull(),groupId:fo("group_id").references(()=>Sl.id),authorId:fo("author_id").notNull().references(()=>Nl.id),prayerCount:fo("prayer_count").default(0),isAnswered:$s("is_answered").default(!1),answeredDescription:ca("answered_description"),createdAt:Na("created_at").defaultNow(),updatedAt:Na("updated_at").defaultNow()});_l(Fl).pick({title:!0,content:!0,isAnonymous:!0,privacyLevel:!0,groupId:!0,authorId:!0});_l(Oa("prayers",{id:na("id").primaryKey(),prayerRequestId:fo("prayer_request_id").notNull().references(()=>Fl.id),userId:fo("user_id").notNull().references(()=>Nl.id),createdAt:Na("created_at").defaultNow()})).pick({prayerRequestId:!0,userId:!0});_l(Oa("mentor_profiles",{id:na("id").primaryKey(),userId:fo("user_id").notNull().references(()=>Nl.id),spiritualGifts:ca("spiritual_gifts").array(),areasOfExpertise:ca("areas_of_expertise").array(),yearsOfFaith:fo("years_of_faith"),shortBio:ca("short_bio").notNull(),availability:ca("availability").notNull(),isActive:$s("is_active").default(!0),createdAt:Na("created_at").defaultNow()})).pick({userId:!0,spiritualGifts:!0,areasOfExpertise:!0,yearsOfFaith:!0,shortBio:!0,availability:!0});_l(Oa("mentorship_requests",{id:na("id").primaryKey(),mentorId:fo("mentor_id").notNull().references(()=>Nl.id),menteeId:fo("mentee_id").notNull().references(()=>Nl.id),message:ca("message"),status:ca("status").notNull(),createdAt:Na("created_at").defaultNow()})).pick({mentorId:!0,menteeId:!0,message:!0,status:!0});_l(Oa("mentorship_relationships",{id:na("id").primaryKey(),mentorId:fo("mentor_id").notNull().references(()=>Nl.id),menteeId:fo("mentee_id").notNull().references(()=>Nl.id),startDate:Na("start_date").defaultNow(),endDate:Na("end_date"),isActive:$s("is_active").default(!0),goals:So("goals")})).pick({mentorId:!0,menteeId:!0,goals:!0});const Vl=Oa("bible_reading_plans",{id:na("id").primaryKey(),title:ca("title").notNull(),description:ca("description").notNull(),duration:fo("duration").notNull(),readings:So("readings").notNull(),creatorId:fo("creator_id").references(()=>Nl.id),groupId:fo("group_id").references(()=>Sl.id),isPublic:$s("is_public").default(!0),createdAt:Na("created_at").defaultNow()});_l(Vl).pick({title:!0,description:!0,duration:!0,readings:!0,creatorId:!0,groupId:!0,isPublic:!0});_l(Oa("bible_reading_progress",{id:na("id").primaryKey(),planId:fo("plan_id").notNull().references(()=>Vl.id),userId:fo("user_id").notNull().references(()=>Nl.id),currentDay:fo("current_day").default(1),completedDays:So("completed_days").default([]),startedAt:Na("started_at").defaultNow(),completedAt:Na("completed_at")})).pick({planId:!0,userId:!0});_l(Oa("bible_study_notes",{id:na("id").primaryKey(),userId:fo("user_id").notNull().references(()=>Nl.id),groupId:fo("group_id").references(()=>Sl.id),title:ca("title").notNull(),content:ca("content").notNull(),passage:ca("passage"),isPublic:$s("is_public").default(!1),createdAt:Na("created_at").defaultNow(),updatedAt:Na("updated_at").defaultNow()})).pick({userId:!0,groupId:!0,title:!0,content:!0,passage:!0,isPublic:!0});_l(Oa("verse_memorization",{id:na("id").primaryKey(),userId:fo("user_id").notNull().references(()=>Nl.id),verse:ca("verse").notNull(),reference:ca("reference").notNull(),startDate:Na("start_date").defaultNow(),masteredDate:Na("mastered_date"),reviewDates:So("review_dates").default([]),reminderFrequency:fo("reminder_frequency")})).pick({userId:!0,verse:!0,reference:!0,reminderFrequency:!0});const Ll=Oa("user_preferences",{id:na("id").primaryKey(),userId:fo("user_id").notNull().references(()=>Nl.id),interests:So("interests").default([]),favoriteTopics:So("favorite_topics").default([]),engagementHistory:So("engagement_history").default([]),createdAt:Na("created_at").defaultNow(),updatedAt:Na("updated_at").defaultNow()}),Kl=Oa("content_recommendations",{id:na("id").primaryKey(),userId:fo("user_id").notNull().references(()=>Nl.id),contentType:ca("content_type").notNull(),contentId:fo("content_id").notNull(),score:fo("score").notNull(),reason:ca("reason"),isViewed:$s("is_viewed").default(!1),createdAt:Na("created_at").defaultNow()});_l(Ll).pick({userId:!0,interests:!0,favoriteTopics:!0}),_l(Kl).pick({userId:!0,contentType:!0,contentId:!0,score:!0,reason:!0});const Ql=Oa("challenges",{id:na("id").primaryKey(),title:ca("title").notNull(),description:ca("description").notNull(),type:ca("type").notNull(),duration:fo("duration").notNull(),goals:So("goals").notNull(),creatorId:fo("creator_id").notNull().references(()=>Nl.id),groupId:fo("group_id").references(()=>Sl.id),communityId:fo("community_id").references(()=>Il.id),startDate:Na("start_date").notNull(),endDate:Na("end_date").notNull(),createdAt:Na("created_at").defaultNow()});_l(Ql).pick({title:!0,description:!0,type:!0,duration:!0,goals:!0,creatorId:!0,groupId:!0,communityId:!0,startDate:!0,endDate:!0});_l(Oa("challenge_participants",{id:na("id").primaryKey(),challengeId:fo("challenge_id").notNull().references(()=>Ql.id),userId:fo("user_id").notNull().references(()=>Nl.id),progress:So("progress").default({}),isCompleted:$s("is_completed").default(!1),joinedAt:Na("joined_at").defaultNow(),completedAt:Na("completed_at")})).pick({challengeId:!0,userId:!0});_l(Oa("challenge_testimonials",{id:na("id").primaryKey(),challengeId:fo("challenge_id").notNull().references(()=>Ql.id),userId:fo("user_id").notNull().references(()=>Nl.id),content:ca("content").notNull(),createdAt:Na("created_at").defaultNow()})).pick({challengeId:!0,userId:!0,content:!0});const Ul=Oa("resources",{id:na("id").primaryKey(),title:ca("title").notNull(),description:ca("description").notNull(),type:ca("type").notNull(),url:ca("url"),author:ca("author"),imageUrl:ca("image_url"),tags:ca("tags").array(),averageRating:fo("average_rating").default(0),submitterId:fo("submitter_id").notNull().references(()=>Nl.id),createdAt:Na("created_at").defaultNow()});_l(Ul).pick({title:!0,description:!0,type:!0,url:!0,author:!0,imageUrl:!0,tags:!0,submitterId:!0});_l(Oa("resource_ratings",{id:na("id").primaryKey(),resourceId:fo("resource_id").notNull().references(()=>Ul.id),userId:fo("user_id").notNull().references(()=>Nl.id),rating:fo("rating").notNull(),review:ca("review"),createdAt:Na("created_at").defaultNow()})).pick({resourceId:!0,userId:!0,rating:!0,review:!0});const jl=Oa("resource_collections",{id:na("id").primaryKey(),title:ca("title").notNull(),description:ca("description"),creatorId:fo("creator_id").notNull().references(()=>Nl.id),isPublic:$s("is_public").default(!0),createdAt:Na("created_at").defaultNow()});_l(jl).pick({title:!0,description:!0,creatorId:!0,isPublic:!0});_l(Oa("collection_resources",{id:na("id").primaryKey(),collectionId:fo("collection_id").notNull().references(()=>jl.id),resourceId:fo("resource_id").notNull().references(()=>Ul.id),addedAt:Na("added_at").defaultNow()})).pick({collectionId:!0,resourceId:!0});const Ol=Oa("service_projects",{id:na("id").primaryKey(),title:ca("title").notNull(),description:ca("description").notNull(),location:ca("location"),date:so("date"),startTime:ga("start_time"),endTime:ga("end_time"),organizerId:fo("organizer_id").notNull().references(()=>Nl.id),communityId:fo("community_id").references(()=>Il.id),groupId:fo("group_id").references(()=>Sl.id),volunteerLimit:fo("volunteer_limit"),imageUrl:ca("image_url"),createdAt:Na("created_at").defaultNow()});_l(Ol).pick({title:!0,description:!0,location:!0,date:!0,startTime:!0,endTime:!0,organizerId:!0,communityId:!0,groupId:!0,volunteerLimit:!0,imageUrl:!0});_l(Oa("service_volunteers",{id:na("id").primaryKey(),projectId:fo("project_id").notNull().references(()=>Ol.id),userId:fo("user_id").notNull().references(()=>Nl.id),status:ca("status").notNull(),hoursServed:fo("hours_served"),createdAt:Na("created_at").defaultNow()})).pick({projectId:!0,userId:!0,status:!0});_l(Oa("service_testimonials",{id:na("id").primaryKey(),projectId:fo("project_id").notNull().references(()=>Ol.id),userId:fo("user_id").notNull().references(()=>Nl.id),content:ca("content").notNull(),imageUrl:ca("image_url"),createdAt:Na("created_at").defaultNow()})).pick({projectId:!0,userId:!0,content:!0,imageUrl:!0});_l(Oa("messages",{id:ca("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),senderId:fo("sender_id").notNull().references(()=>Nl.id,{onDelete:"cascade"}),receiverId:fo("receiver_id").notNull().references(()=>Nl.id,{onDelete:"cascade"}),content:ca("content").notNull(),createdAt:Na("created_at").defaultNow().notNull()})).omit({id:!0,createdAt:!0});_l(Oa("content_reports",{id:na("id").primaryKey(),reporterId:fo("reporter_id").notNull().references(()=>Nl.id),contentType:ca("content_type").notNull(),contentId:fo("content_id").notNull(),reason:ca("reason").notNull(),description:ca("description"),status:ca("status").default("pending"),moderatorId:fo("moderator_id").references(()=>Nl.id),moderatorNotes:ca("moderator_notes"),resolvedAt:Na("resolved_at"),createdAt:Na("created_at").defaultNow(),updatedAt:Na("updated_at").defaultNow()})).omit({id:!0,createdAt:!0,updatedAt:!0,resolvedAt:!0,moderatorId:!0,moderatorNotes:!0});_l(Oa("user_blocks",{id:na("id").primaryKey(),blockerId:fo("blocker_id").notNull().references(()=>Nl.id),blockedId:fo("blocked_id").notNull().references(()=>Nl.id),reason:ca("reason"),createdAt:Na("created_at").defaultNow()})).omit({id:!0,createdAt:!0});_l(Oa("moderation_actions",{id:na("id").primaryKey(),moderatorId:fo("moderator_id").notNull().references(()=>Nl.id),contentType:ca("content_type").notNull(),contentId:fo("content_id").notNull(),action:ca("action").notNull(),reason:ca("reason"),createdAt:Na("created_at").defaultNow()})).omit({id:!0,createdAt:!0});_l(Oa("moderation_settings",{id:na("id").primaryKey(),autoModerateEnabled:$s("auto_moderate_enabled").default(!0),profanityFilterEnabled:$s("profanity_filter_enabled").default(!0),spamDetectionEnabled:$s("spam_detection_enabled").default(!0),reviewThreshold:fo("review_threshold").default(3),contactEmail:ca("contact_email").default("support@theconnection.app"),responseTimeSlaHours:fo("response_time_sla_hours").default(24),updatedAt:Na("updated_at").defaultNow()})).omit({id:!0,updatedAt:!0});export{Pl as a,Bl as b,Cl as c,bl as i};
