import{r as e,z as s,j as a,i as n,E as t,k as r,G as i,J as l,F as o,l as c}from"./vendor-radix-Cb0-vzxO.js";import{n as d,L as m,m as p,u as h}from"./index-CQmKbNyS.js";import{K as u,C as x,aw as f,V as j,z as b,U as N,aN as v,q as g}from"./vendor-icons-CM8Yk8yJ.js";var w="Collapsible",[y]=n(w),[C,R]=y(w),_=e.forwardRef((n,i)=>{const{__scopeCollapsible:l,open:o,defaultOpen:c,disabled:d,onOpenChange:m,...p}=n,[h,u]=s({prop:o,defaultProp:c??!1,onChange:m,caller:w});return a.jsx(C,{scope:l,disabled:d,contentId:t(),open:h,onOpenToggle:e.useCallback(()=>u(e=>!e),[u]),children:a.jsx(r.div,{"data-state":F(h),"data-disabled":d?"":void 0,...p,ref:i})})});_.displayName=w;var A="CollapsibleTrigger",k=e.forwardRef((e,s)=>{const{__scopeCollapsible:n,...t}=e,l=R(A,n);return a.jsx(r.button,{type:"button","aria-controls":l.contentId,"aria-expanded":l.open||!1,"data-state":F(l.open),"data-disabled":l.disabled?"":void 0,disabled:l.disabled,...t,ref:s,onClick:i(e.onClick,l.onOpenToggle)})});k.displayName=A;var D="CollapsibleContent",O=e.forwardRef((e,s)=>{const{forceMount:n,...t}=e,r=R(D,e.__scopeCollapsible);return a.jsx(l,{present:n||r.open,children:({present:e})=>a.jsx(S,{...t,ref:s,present:e})})});O.displayName=D;var S=e.forwardRef((s,n)=>{const{__scopeCollapsible:t,present:i,children:l,...d}=s,m=R(D,t),[p,h]=e.useState(i),u=e.useRef(null),x=o(n,u),f=e.useRef(0),j=f.current,b=e.useRef(0),N=b.current,v=m.open||p,g=e.useRef(v),w=e.useRef(void 0);return e.useEffect(()=>{const e=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(e)},[]),c(()=>{const e=u.current;if(e){w.current=w.current||{transitionDuration:e.style.transitionDuration,animationName:e.style.animationName},e.style.transitionDuration="0s",e.style.animationName="none";const s=e.getBoundingClientRect();f.current=s.height,b.current=s.width,g.current||(e.style.transitionDuration=w.current.transitionDuration,e.style.animationName=w.current.animationName),h(i)}},[m.open,i]),a.jsx(r.div,{"data-state":F(m.open),"data-disabled":m.disabled?"":void 0,id:m.contentId,hidden:!v,...d,ref:x,style:{"--radix-collapsible-content-height":j?`${j}px`:void 0,"--radix-collapsible-content-width":N?`${N}px`:void 0,...s.style},children:v&&l})});function F(e){return e?"open":"closed"}const I=_,L=k,T=O;function q(){const[s]=d(),[n,t]=e.useState(!0),r=[{title:"Dashboard",href:"/admin",icon:a.jsx(f,{className:"h-4 w-4 mr-2"})},{title:"Applications",icon:a.jsx(N,{className:"h-4 w-4 mr-2"}),children:[{title:"Livestreamer",href:"/admin/livestreamer-applications",icon:a.jsx(j,{className:"h-4 w-4 mr-2"})},{title:"Apologist Scholar",href:"/admin/apologist-scholar-applications",icon:a.jsx(b,{className:"h-4 w-4 mr-2"})}]},{title:"Return to Site",href:"/",icon:a.jsx(v,{className:"h-4 w-4 mr-2"}),className:"mt-auto text-muted-foreground hover:text-primary"}];return a.jsxs("div",{className:"flex flex-col h-full border-r bg-card",children:[a.jsx("div",{className:"p-4 border-b",children:a.jsx("h2",{className:"text-lg font-semibold",children:"Admin Panel"})}),a.jsx("nav",{className:"flex-1 overflow-auto p-3",children:a.jsx("ul",{className:"space-y-1",children:r.map((e,r)=>e.children?a.jsx("li",{children:a.jsxs(I,{open:n,onOpenChange:t,className:"w-full",children:[a.jsxs(L,{className:"flex items-center w-full p-2 hover:bg-accent rounded-md text-sm font-medium",children:[e.icon,a.jsx("span",{className:"flex-1 text-left",children:e.title}),n?a.jsx(u,{className:"h-4 w-4"}):a.jsx(x,{className:"h-4 w-4"})]}),a.jsx(T,{children:a.jsx("ul",{className:"pl-4 mt-1 space-y-1",children:e.children.map((e,n)=>a.jsx("li",{children:a.jsx(m,{href:e.href,children:a.jsxs("div",{className:p("flex items-center p-2 hover:bg-accent rounded-md text-sm cursor-pointer",s===e.href?"bg-accent/50 font-medium":""),children:[e.icon,e.title]})})},n))})})]})},r):a.jsx("li",{children:a.jsx(m,{href:e.href,children:a.jsxs("div",{className:p("flex items-center p-2 hover:bg-accent rounded-md text-sm cursor-pointer",e.className,s===e.href?"bg-accent/50 font-medium":""),children:[e.icon,e.title]})})},r))})})]})}function z({children:e}){const{user:s,isLoading:n}=h(),[t,r]=d();return n?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx(g,{className:"h-8 w-8 animate-spin text-primary"})}):s&&s.isAdmin?a.jsxs("div",{className:"flex min-h-screen bg-background",children:[a.jsx("div",{className:"w-64 hidden md:block",children:a.jsx(q,{})}),a.jsx("div",{className:"flex-1 overflow-auto",children:a.jsx("div",{className:"p-4 md:p-6 space-y-6",children:e})})]}):(r("/auth"),null)}export{z as A};
