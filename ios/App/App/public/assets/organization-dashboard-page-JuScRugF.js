import{j as e}from"./vendor-radix-Cb0-vzxO.js";import{v as s,n as a,h as r,B as i,c as l,C as n,a as t,b as c,f as d,j as x,A as m,d as o,e as h}from"./index-CQmKbNyS.js";import{c as j,u as p,a as u}from"./vendor-query-qkAKzVJ0.js";import{T as g,a as N,b as v,c as f}from"./tabs-N8_zO4xm.js";import{aJ as b,e as y,U as w,aO as z,c as C,j as k,G as $,aP as U,ak as A,P as M,Z as O,aQ as P}from"./vendor-icons-CM8Yk8yJ.js";import"./vendor-react-eVk5PToZ.js";import"./vendor-utils-nlnd1Dju.js";function S(){const{id:S}=s(),[E,F]=a(),{toast:B}=r();j();const{data:D,isLoading:q}=p({queryKey:[`/api/organizations/${S}`],enabled:!!S}),{data:I=[]}=p({queryKey:[`/api/organizations/${S}/members`],enabled:!!S}),L=u({mutationFn:async e=>{throw new Error("Upgrade functionality is currently disabled")},onSuccess:e=>{e.url&&(window.location.href=e.url)},onError:e=>{B({title:"Error",description:e.message||"Failed to create checkout session",variant:"destructive"})}});if(q)return e.jsx("div",{className:"container mx-auto py-8",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading organization..."})]})})});if(!D)return e.jsx("div",{className:"container mx-auto py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Organization Not Found"}),e.jsx(i,{onClick:()=>F("/"),children:"Return Home"})]})});const T=e=>{L.mutate(e)};return e.jsxs("div",{className:"container mx-auto py-8 px-4",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-600 to-pink-600 rounded-full flex items-center justify-center",children:e.jsx(b,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:D.name}),D.description&&e.jsx("p",{className:"text-gray-600 mt-1",children:D.description}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsxs(l,{className:(e=>{switch(e){case"premium":return"bg-purple-100 text-purple-800 border-purple-300";case"standard":return"bg-blue-100 text-blue-800 border-blue-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}})(D.plan),children:[D.plan.charAt(0).toUpperCase()+D.plan.slice(1)," Plan"]}),D.denomination&&e.jsx(l,{variant:"outline",children:D.denomination})]})]})]}),e.jsxs(i,{variant:"outline",onClick:()=>F(`/organizations/${S}/settings`),children:[e.jsx(y,{className:"w-4 h-4 mr-2"}),"Settings"]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[e.jsx(n,{children:e.jsx(t,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(w,{className:"w-8 h-8 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Members"}),e.jsx("p",{className:"text-2xl font-bold",children:I.length})]})]})})}),e.jsx(n,{children:e.jsx(t,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(z,{className:"w-8 h-8 text-purple-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Administrators"}),e.jsx("p",{className:"text-2xl font-bold",children:I.filter(e=>"admin"===e.membership.role).length})]})]})})}),e.jsx(n,{children:e.jsx(t,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(C,{className:"w-8 h-8 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"This Month's Events"}),e.jsx("p",{className:"text-2xl font-bold",children:"0"})]})]})})}),e.jsx(n,{children:e.jsx(t,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(k,{className:"w-8 h-8 text-orange-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Active Discussions"}),e.jsx("p",{className:"text-2xl font-bold",children:"0"})]})]})})})]}),e.jsxs(g,{defaultValue:"overview",className:"w-full",children:[e.jsxs(N,{className:"grid w-full grid-cols-4",children:[e.jsx(v,{value:"overview",children:"Overview"}),e.jsx(v,{value:"members",children:"Members"}),e.jsx(v,{value:"billing",children:"Billing"}),e.jsx(v,{value:"settings",children:"Settings"})]}),e.jsxs(f,{value:"overview",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(n,{children:[e.jsx(c,{children:e.jsxs(d,{className:"flex items-center gap-2",children:[e.jsx(b,{className:"w-5 h-5"}),"Organization Information"]})}),e.jsxs(t,{className:"space-y-3",children:[D.website&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($,{className:"w-4 h-4 text-gray-500"}),e.jsx("a",{href:D.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:D.website})]}),D.phone&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(U,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{children:D.phone})]}),(D.address||D.city)&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(A,{className:"w-4 h-4 text-gray-500"}),e.jsxs("span",{children:[D.address&&`${D.address}, `,D.city&&D.state&&`${D.city}, ${D.state}`,D.zipCode&&` ${D.zipCode}`]})]})]})]}),e.jsxs(n,{children:[e.jsx(c,{children:e.jsx(d,{children:"Recent Activity"})}),e.jsx(t,{children:e.jsx("p",{className:"text-gray-500 text-center py-8",children:"No recent activity to display"})})]})]}),"free"===D.plan&&e.jsxs(n,{className:"border-purple-200 bg-purple-50",children:[e.jsxs(c,{children:[e.jsxs(d,{className:"flex items-center gap-2 text-purple-900",children:[e.jsx(z,{className:"w-5 h-5"}),"Unlock More Features"]}),e.jsx(x,{className:"text-purple-700",children:"Upgrade to access advanced church management tools, analytics, and priority support."})]}),e.jsx(t,{children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx(i,{onClick:()=>T("standard"),className:"bg-blue-600 hover:bg-blue-700",children:"Upgrade to Standard - $29/month"}),e.jsx(i,{onClick:()=>T("premium"),className:"bg-purple-600 hover:bg-purple-700",children:"Upgrade to Premium - $59/month"})]})})]})]}),e.jsxs(f,{value:"members",className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Organization Members"}),e.jsxs(i,{onClick:()=>F(`/organizations/${S}/invite`),children:[e.jsx(M,{className:"w-4 h-4 mr-2"}),"Invite Members"]})]}),e.jsx(n,{children:e.jsx(t,{className:"p-0",children:e.jsx("div",{className:"divide-y",children:I.map(s=>e.jsxs("div",{className:"p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(m,{children:[e.jsx(o,{src:s.user.avatarUrl}),e.jsx(h,{children:s.user.displayName?.charAt(0)||s.user.username.charAt(0)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.user.displayName||s.user.username}),e.jsx("p",{className:"text-sm text-gray-500",children:s.user.email})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(l,{variant:"admin"===s.membership.role?"default":"secondary",children:["admin"===s.membership.role&&e.jsx(O,{className:"w-3 h-3 mr-1"}),s.membership.role.charAt(0).toUpperCase()+s.membership.role.slice(1)]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Joined ",new Date(s.membership.joinedAt).toLocaleDateString()]})]})]},s.user.id))})})})]}),e.jsxs(f,{value:"billing",className:"space-y-6",children:[e.jsxs(n,{children:[e.jsx(c,{children:e.jsxs(d,{className:"flex items-center gap-2",children:[e.jsx(P,{className:"w-5 h-5"}),"Current Plan"]})}),e.jsx(t,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"text-xl font-semibold capitalize",children:[D.plan," Plan"]}),e.jsxs("p",{className:"text-gray-600",children:["free"===D.plan&&"Free forever with basic features","standard"===D.plan&&"$29/month - Enhanced features and support","premium"===D.plan&&"$59/month - All features plus advanced analytics"]})]}),"free"===D.plan&&e.jsxs("div",{className:"flex gap-2",children:[e.jsx(i,{onClick:()=>T("standard"),variant:"outline",children:"Upgrade to Standard"}),e.jsx(i,{onClick:()=>T("premium"),children:"Upgrade to Premium"})]})]})})]}),"free"!==D.plan&&e.jsxs(n,{children:[e.jsx(c,{children:e.jsx(d,{children:"Billing Information"})}),e.jsx(t,{children:e.jsx("p",{className:"text-gray-500",children:"Billing information will be displayed here for paid plans."})})]})]}),e.jsx(f,{value:"settings",className:"space-y-6",children:e.jsxs(n,{children:[e.jsxs(c,{children:[e.jsx(d,{children:"Organization Settings"}),e.jsx(x,{children:"Manage your organization's basic information and preferences."})]}),e.jsx(t,{children:e.jsx(i,{onClick:()=>F(`/organizations/${S}/edit`),children:"Edit Organization Details"})})]})})]})]})}export{S as default};
