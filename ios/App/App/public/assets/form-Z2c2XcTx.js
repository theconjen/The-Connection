import{a5 as e,r as t,j as r,S as s}from"./vendor-radix-Cb0-vzxO.js";import{m as a}from"./index-CQmKbNyS.js";import{L as i}from"./label-BZLDYjV_.js";var n=e=>"checkbox"===e.type,o=e=>e instanceof Date,l=e=>null==e;const u=e=>"object"==typeof e;var d=e=>!l(e)&&!Array.isArray(e)&&u(e)&&!o(e),c=e=>d(e)&&e.target?n(e.target)?e.target.checked:e.target.value:e,f=(e,t)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(t)),m="undefined"!=typeof window&&void 0!==window.HTMLElement&&"undefined"!=typeof document;function y(e){let t;const r=Array.isArray(e),s="undefined"!=typeof FileList&&e instanceof FileList;if(e instanceof Date)t=new Date(e);else{if(m&&(e instanceof Blob||s)||!r&&!d(e))return e;if(t=r?[]:Object.create(Object.getPrototypeOf(e)),r||(e=>{const t=e.constructor&&e.constructor.prototype;return d(t)&&t.hasOwnProperty("isPrototypeOf")})(e))for(const r in e)e.hasOwnProperty(r)&&(t[r]=y(e[r]));else t=e}return t}var v=e=>/^\w*$/.test(e),h=e=>void 0===e,g=e=>Array.isArray(e)?e.filter(Boolean):[],b=e=>g(e.replace(/["|']|\]/g,"").split(/\.|\[/)),p=(e,t,r)=>{if(!t||!d(e))return r;const s=(v(t)?[t]:b(t)).reduce((e,t)=>l(e)?e:e[t],e);return h(s)||s===e?h(e[t])?r:e[t]:s},_=e=>"boolean"==typeof e,V=(e,t,r)=>{let s=-1;const a=v(t)?[t]:b(t),i=a.length,n=i-1;for(;++s<i;){const t=a[s];let i=r;if(s!==n){const r=e[t];i=d(r)||Array.isArray(r)?r:isNaN(+a[s+1])?{}:[]}if("__proto__"===t||"constructor"===t||"prototype"===t)return;e[t]=i,e=e[t]}};const F="blur",x="focusout",w="change",A="onBlur",S="onChange",D="onSubmit",k="onTouched",E="all",C="max",O="min",j="maxLength",N="minLength",M="pattern",R="required",L="validate",U=e.createContext(null);U.displayName="HookFormContext";const T=()=>e.useContext(U);var I=(e,t,r,s=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const a=i;return t._proxyFormState[a]!==E&&(t._proxyFormState[a]=!s||E),r&&(r[a]=!0),e[a]}});return a};const B="undefined"!=typeof window?e.useLayoutEffect:e.useEffect;var P=e=>"string"==typeof e,$=(e,t,r,s,a)=>P(e)?(s&&t.watch.add(e),p(r,e,a)):Array.isArray(e)?e.map(e=>(s&&t.watch.add(e),p(r,e))):(s&&(t.watchAll=!0),r),W=e=>l(e)||!u(e);function q(e,t,r=new WeakSet){if(W(e)||W(t))return e===t;if(o(e)&&o(t))return e.getTime()===t.getTime();const s=Object.keys(e),a=Object.keys(t);if(s.length!==a.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of s){const s=e[i];if(!a.includes(i))return!1;if("ref"!==i){const e=t[i];if(o(s)&&o(e)||d(s)&&d(e)||Array.isArray(s)&&Array.isArray(e)?!q(s,e,r):s!==e)return!1}}return!0}function H(t){const r=T(),{name:s,disabled:a,control:i=r.control,shouldUnregister:n,defaultValue:o}=t,l=f(i._names.array,s),u=e.useMemo(()=>p(i._formValues,s,p(i._defaultValues,s,o)),[i,s,o]),d=function(t){const r=T(),{control:s=r.control,name:a,defaultValue:i,disabled:n,exact:o,compute:l}=t||{},u=e.useRef(i),d=e.useRef(l),c=e.useRef(void 0);d.current=l;const f=e.useMemo(()=>s._getWatch(a,u.current),[s,a]),[m,y]=e.useState(d.current?d.current(f):f);return B(()=>s._subscribe({name:a,formState:{values:!0},exact:o,callback:e=>{if(!n){const t=$(a,s._names,e.values||s._formValues,!1,u.current);if(d.current){const e=d.current(t);q(e,c.current)||(y(e),c.current=e)}else y(t)}}}),[s,n,a,o]),e.useEffect(()=>s._removeUnmounted()),m}({control:i,name:s,defaultValue:u,exact:!0}),m=function(t){const r=T(),{control:s=r.control,disabled:a,name:i,exact:n}=t||{},[o,l]=e.useState(s._formState),u=e.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return B(()=>s._subscribe({name:i,formState:u.current,exact:n,callback:e=>{!a&&l({...s._formState,...e})}}),[i,a,n]),e.useEffect(()=>{u.current.isValid&&s._setValid(!0)},[s]),e.useMemo(()=>I(o,s,u.current,!1),[o,s])}({control:i,name:s,exact:!0}),v=e.useRef(t),g=e.useRef(void 0),b=e.useRef(i.register(s,{...t.rules,value:d,..._(t.disabled)?{disabled:t.disabled}:{}}));v.current=t;const x=e.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!p(m.errors,s)},isDirty:{enumerable:!0,get:()=>!!p(m.dirtyFields,s)},isTouched:{enumerable:!0,get:()=>!!p(m.touchedFields,s)},isValidating:{enumerable:!0,get:()=>!!p(m.validatingFields,s)},error:{enumerable:!0,get:()=>p(m.errors,s)}}),[m,s]),A=e.useCallback(e=>b.current.onChange({target:{value:c(e),name:s},type:w}),[s]),S=e.useCallback(()=>b.current.onBlur({target:{value:p(i._formValues,s),name:s},type:F}),[s,i._formValues]),D=e.useCallback(e=>{const t=p(i._fields,s);t&&e&&(t._f.ref={focus:()=>e.focus&&e.focus(),select:()=>e.select&&e.select(),setCustomValidity:t=>e.setCustomValidity(t),reportValidity:()=>e.reportValidity()})},[i._fields,s]),k=e.useMemo(()=>({name:s,value:d,..._(a)||m.disabled?{disabled:m.disabled||a}:{},onChange:A,onBlur:S,ref:D}),[s,a,m.disabled,A,S,D,d]);return e.useEffect(()=>{const e=i._options.shouldUnregister||n,t=g.current;t&&t!==s&&!l&&i.unregister(t),i.register(s,{...v.current.rules,..._(v.current.disabled)?{disabled:v.current.disabled}:{}});const r=(e,t)=>{const r=p(i._fields,e);r&&r._f&&(r._f.mount=t)};if(r(s,!0),e){const e=y(p(i._options.defaultValues,s,v.current.defaultValue));V(i._defaultValues,s,e),h(p(i._formValues,s))&&V(i._formValues,s,e)}return!l&&i.register(s),g.current=s,()=>{(l?e&&!i._state.action:e)?i.unregister(s):r(s,!1)}},[s,i,l,n]),e.useEffect(()=>{i._setDisabledField({disabled:a,name:s})},[a,s,i]),e.useMemo(()=>({field:k,formState:m,fieldState:x}),[k,m,x])}const z=e=>e.render(H(e));var G=(e,t,r,s,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[s]:a||!0}}:{},J=e=>Array.isArray(e)?e:[e],K=()=>{let e=[];return{get observers(){return e},next:t=>{for(const r of e)r.next&&r.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter(e=>e!==t)}}),unsubscribe:()=>{e=[]}}};function Q(e,t){const r={};for(const s in e)if(e.hasOwnProperty(s)){const a=e[s],i=t[s];if(a&&d(a)&&i){const e=Q(a,i);d(e)&&(r[s]=e)}else e[s]&&(r[s]=i)}return r}var X=e=>d(e)&&!Object.keys(e).length,Y=e=>"file"===e.type,Z=e=>"function"==typeof e,ee=e=>{if(!m)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},te=e=>"select-multiple"===e.type,re=e=>"radio"===e.type,se=e=>ee(e)&&e.isConnected;function ae(e,t){const r=Array.isArray(t)?t:v(t)?[t]:b(t),s=1===r.length?e:function(e,t){const r=t.slice(0,-1).length;let s=0;for(;s<r;)e=h(e)?s++:e[t[s++]];return e}(e,r),a=r.length-1,i=r[a];return s&&delete s[i],0!==a&&(d(s)&&X(s)||Array.isArray(s)&&function(e){for(const t in e)if(e.hasOwnProperty(t)&&!h(e[t]))return!1;return!0}(s))&&ae(e,r.slice(0,-1)),e}function ie(e){return Array.isArray(e)||d(e)&&!(e=>{for(const t in e)if(Z(e[t]))return!0;return!1})(e)}function ne(e,t={}){for(const r in e)ie(e[r])?(t[r]=Array.isArray(e[r])?[]:{},ne(e[r],t[r])):h(e[r])||(t[r]=!0);return t}function oe(e,t,r){r||(r=ne(t));for(const s in e)ie(e[s])?h(t)||W(r[s])?r[s]=ne(e[s],Array.isArray(e[s])?[]:{}):oe(e[s],l(t)?{}:t[s],r[s]):r[s]=!q(e[s],t[s]);return r}const le={value:!1,isValid:!1},ue={value:!0,isValid:!0};var de=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(e=>e&&e.checked&&!e.disabled).map(e=>e.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!h(e[0].attributes.value)?h(e[0].value)||""===e[0].value?ue:{value:e[0].value,isValid:!0}:ue:le}return le},ce=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:s})=>h(e)?e:t?""===e?NaN:e?+e:e:r&&P(e)?new Date(e):s?s(e):e;const fe={isValid:!1,value:null};var me=e=>Array.isArray(e)?e.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,fe):fe;function ye(e){const t=e.ref;return Y(t)?t.files:re(t)?me(e.refs).value:te(t)?[...t.selectedOptions].map(({value:e})=>e):n(t)?de(e.refs).value:ce(h(t.value)?e.ref.value:t.value,e)}var ve=e=>e instanceof RegExp,he=e=>h(e)?e:ve(e)?e.source:d(e)?ve(e.value)?e.value.source:e.value:e,ge=e=>({isOnSubmit:!e||e===D,isOnBlur:e===A,isOnChange:e===S,isOnAll:e===E,isOnTouch:e===k});const be="AsyncFunction";var pe=e=>!!e&&!!e.validate&&!!(Z(e.validate)&&e.validate.constructor.name===be||d(e.validate)&&Object.values(e.validate).find(e=>e.constructor.name===be)),_e=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))));const Ve=(e,t,r,s)=>{for(const a of r||Object.keys(e)){const r=p(e,a);if(r){const{_f:e,...i}=r;if(e){if(e.refs&&e.refs[0]&&t(e.refs[0],a)&&!s)return!0;if(e.ref&&t(e.ref,e.name)&&!s)return!0;if(Ve(i,t))break}else if(d(i)&&Ve(i,t))break}}};function Fe(e,t,r){const s=p(e,r);if(s||v(r))return{error:s,name:r};const a=r.split(".");for(;a.length;){const s=a.join("."),i=p(t,s),n=p(e,s);if(i&&!Array.isArray(i)&&r!==s)return{name:r};if(n&&n.type)return{name:s,error:n};if(n&&n.root&&n.root.type)return{name:`${s}.root`,error:n.root};a.pop()}return{name:r}}var xe=(e,t,r)=>{const s=J(p(e,r));return V(s,"root",t[r]),V(e,r,s),e};function we(e,t,r="validate"){if(P(e)||Array.isArray(e)&&e.every(P)||_(e)&&!e)return{type:r,message:P(e)?e:"",ref:t}}var Ae=e=>d(e)&&!ve(e)?e:{value:e,message:""},Se=async(e,t,r,s,a,i)=>{const{ref:o,refs:u,required:c,maxLength:f,minLength:m,min:y,max:v,pattern:g,validate:b,name:V,valueAsNumber:F,mount:x}=e._f,w=p(r,V);if(!x||t.has(V))return{};const A=u?u[0]:o,S=e=>{a&&A.reportValidity&&(A.setCustomValidity(_(e)?"":e||""),A.reportValidity())},D={},k=re(o),E=n(o),U=k||E,T=(F||Y(o))&&h(o.value)&&h(w)||ee(o)&&""===o.value||""===w||Array.isArray(w)&&!w.length,I=G.bind(null,V,s,D),B=(e,t,r,s=j,a=N)=>{const i=e?t:r;D[V]={type:e?s:a,message:i,ref:o,...I(e?s:a,i)}};if(i?!Array.isArray(w)||!w.length:c&&(!U&&(T||l(w))||_(w)&&!w||E&&!de(u).isValid||k&&!me(u).isValid)){const{value:e,message:t}=P(c)?{value:!!c,message:c}:Ae(c);if(e&&(D[V]={type:R,message:t,ref:A,...I(R,t)},!s))return S(t),D}if(!(T||l(y)&&l(v))){let e,t;const r=Ae(v),a=Ae(y);if(l(w)||isNaN(w)){const s=o.valueAsDate||new Date(w),i=e=>new Date((new Date).toDateString()+" "+e),n="time"==o.type,l="week"==o.type;P(r.value)&&w&&(e=n?i(w)>i(r.value):l?w>r.value:s>new Date(r.value)),P(a.value)&&w&&(t=n?i(w)<i(a.value):l?w<a.value:s<new Date(a.value))}else{const s=o.valueAsNumber||(w?+w:w);l(r.value)||(e=s>r.value),l(a.value)||(t=s<a.value)}if((e||t)&&(B(!!e,r.message,a.message,C,O),!s))return S(D[V].message),D}if((f||m)&&!T&&(P(w)||i&&Array.isArray(w))){const e=Ae(f),t=Ae(m),r=!l(e.value)&&w.length>+e.value,a=!l(t.value)&&w.length<+t.value;if((r||a)&&(B(r,e.message,t.message),!s))return S(D[V].message),D}if(g&&!T&&P(w)){const{value:e,message:t}=Ae(g);if(ve(e)&&!w.match(e)&&(D[V]={type:M,message:t,ref:o,...I(M,t)},!s))return S(t),D}if(b)if(Z(b)){const e=we(await b(w,r),A);if(e&&(D[V]={...e,...I(L,e.message)},!s))return S(e.message),D}else if(d(b)){let e={};for(const t in b){if(!X(e)&&!s)break;const a=we(await b[t](w,r),A,t);a&&(e={...a,...I(t,a.message)},S(a.message),s&&(D[V]=e))}if(!X(e)&&(D[V]={ref:A,...e},!s))return D}return S(!0),D};const De={mode:D,reValidateMode:S,shouldFocusError:!0};function ke(e={}){let t,r={...De,...e},s={submitCount:0,isDirty:!1,isReady:!1,isLoading:Z(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1},a={},i=(d(r.defaultValues)||d(r.values))&&y(r.defaultValues||r.values)||{},u=r.shouldUnregister?{}:y(i),v={action:!1,mount:!1,watch:!1},b={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},w=0;const A={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let S={...A};const D={array:K(),state:K()},k=r.criteriaMode===E,C=async e=>{if(!r.disabled&&(A.isValid||S.isValid||e)){const e=r.resolver?X((await R()).errors):await L(a,!0);e!==s.isValid&&D.state.next({isValid:e})}},O=(e,t)=>{!r.disabled&&(A.isValidating||A.validatingFields||S.isValidating||S.validatingFields)&&((e||Array.from(b.mount)).forEach(e=>{e&&(t?V(s.validatingFields,e,t):ae(s.validatingFields,e))}),D.state.next({validatingFields:s.validatingFields,isValidating:!X(s.validatingFields)}))},j=(e,t,r,s)=>{const n=p(a,e);if(n){const a=p(u,e,h(r)?p(i,e):r);h(a)||s&&s.defaultChecked||t?V(u,e,t?a:ye(n._f)):I(e,a),v.mount&&C()}},N=(e,t,a,n,o)=>{let l=!1,u=!1;const d={name:e};if(!r.disabled){if(!a||n){(A.isDirty||S.isDirty)&&(u=s.isDirty,s.isDirty=d.isDirty=U(),l=u!==d.isDirty);const r=q(p(i,e),t);u=!!p(s.dirtyFields,e),r?ae(s.dirtyFields,e):V(s.dirtyFields,e,!0),d.dirtyFields=s.dirtyFields,l=l||(A.dirtyFields||S.dirtyFields)&&u!==!r}if(a){const t=p(s.touchedFields,e);t||(V(s.touchedFields,e,a),d.touchedFields=s.touchedFields,l=l||(A.touchedFields||S.touchedFields)&&t!==a)}l&&o&&D.state.next(d)}return l?d:{}},M=(e,a,i,n)=>{const o=p(s.errors,e),l=(A.isValid||S.isValid)&&_(a)&&s.isValid!==a;var u;if(r.delayError&&i?(u=()=>((e,t)=>{V(s.errors,e,t),D.state.next({errors:s.errors})})(e,i),t=e=>{clearTimeout(w),w=setTimeout(u,e)},t(r.delayError)):(clearTimeout(w),t=null,i?V(s.errors,e,i):ae(s.errors,e)),(i?!q(o,i):o)||!X(n)||l){const t={...n,...l&&_(a)?{isValid:a}:{},errors:s.errors,name:e};s={...s,...t},D.state.next(t)}},R=async e=>{O(e,!0);const t=await r.resolver(u,r.context,((e,t,r,s)=>{const a={};for(const i of e){const e=p(t,i);e&&V(a,i,e._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:s}})(e||b.mount,a,r.criteriaMode,r.shouldUseNativeValidation));return O(e),t},L=async(e,t,a={valid:!0})=>{for(const i in e){const n=e[i];if(n){const{_f:e,...i}=n;if(e){const i=b.array.has(e.name),o=n._f&&pe(n._f);o&&A.validatingFields&&O([e.name],!0);const l=await Se(n,b.disabled,u,k,r.shouldUseNativeValidation&&!t,i);if(o&&A.validatingFields&&O([e.name]),l[e.name]&&(a.valid=!1,t))break;!t&&(p(l,e.name)?i?xe(s.errors,l,e.name):V(s.errors,e.name,l[e.name]):ae(s.errors,e.name))}!X(i)&&await L(i,t,a)}}return a.valid},U=(e,t)=>!r.disabled&&(e&&t&&V(u,e,t),!q(ie(),i)),T=(e,t,r)=>$(e,b,{...v.mount?u:h(t)?i:P(e)?{[e]:t}:t},r,t),I=(e,t,r={})=>{const s=p(a,e);let i=t;if(s){const r=s._f;r&&(!r.disabled&&V(u,e,ce(t,r)),i=ee(r.ref)&&l(t)?"":t,te(r.ref)?[...r.ref.options].forEach(e=>e.selected=i.includes(e.value)):r.refs?n(r.ref)?r.refs.forEach(e=>{e.defaultChecked&&e.disabled||(Array.isArray(i)?e.checked=!!i.find(t=>t===e.value):e.checked=i===e.value||!!i)}):r.refs.forEach(e=>e.checked=e.value===i):Y(r.ref)?r.ref.value="":(r.ref.value=i,r.ref.type||D.state.next({name:e,values:y(u)})))}(r.shouldDirty||r.shouldTouch)&&N(e,i,r.shouldTouch,r.shouldDirty,!0),r.shouldValidate&&G(e)},B=(e,t,r)=>{for(const s in t){if(!t.hasOwnProperty(s))return;const i=t[s],n=e+"."+s,l=p(a,n);(b.array.has(e)||d(i)||l&&!l._f)&&!o(i)?B(n,i,r):I(n,i,r)}},W=(e,t,r={})=>{const n=p(a,e),o=b.array.has(e),d=y(t);V(u,e,d),o?(D.array.next({name:e,values:y(u)}),(A.isDirty||A.dirtyFields||S.isDirty||S.dirtyFields)&&r.shouldDirty&&D.state.next({name:e,dirtyFields:oe(i,u),isDirty:U(e,d)})):!n||n._f||l(d)?I(e,d,r):B(e,d,r),_e(e,b)&&D.state.next({...s,name:e}),D.state.next({name:v.mount?e:void 0,values:y(u)})},H=async e=>{v.mount=!0;const i=e.target;let n=i.name,l=!0;const d=p(a,n),f=e=>{l=Number.isNaN(e)||o(e)&&isNaN(e.getTime())||q(e,p(u,n,e))},m=ge(r.mode),h=ge(r.reValidateMode);if(d){let o,v;const _=i.type?ye(d._f):c(e),w=e.type===F||e.type===x,E=!((g=d._f).mount&&(g.required||g.min||g.max||g.maxLength||g.minLength||g.pattern||g.validate)||r.resolver||p(s.errors,n)||d._f.deps)||((e,t,r,s,a)=>!a.isOnAll&&(!r&&a.isOnTouch?!(t||e):(r?s.isOnBlur:a.isOnBlur)?!e:!(r?s.isOnChange:a.isOnChange)||e))(w,p(s.touchedFields,n),s.isSubmitted,h,m),j=_e(n,b,w);V(u,n,_),w?i&&i.readOnly||(d._f.onBlur&&d._f.onBlur(e),t&&t(0)):d._f.onChange&&d._f.onChange(e);const U=N(n,_,w),T=!X(U)||j;if(!w&&D.state.next({name:n,type:e.type,values:y(u)}),E)return(A.isValid||S.isValid)&&("onBlur"===r.mode?w&&C():w||C()),T&&D.state.next({name:n,...j?{}:U});if(!w&&j&&D.state.next({...s}),r.resolver){const{errors:e}=await R([n]);if(f(_),l){const t=Fe(s.errors,a,n),r=Fe(e,a,t.name||n);o=r.error,n=r.name,v=X(e)}}else O([n],!0),o=(await Se(d,b.disabled,u,k,r.shouldUseNativeValidation))[n],O([n]),f(_),l&&(o?v=!1:(A.isValid||S.isValid)&&(v=await L(a,!0)));l&&(d._f.deps&&(!Array.isArray(d._f.deps)||d._f.deps.length>0)&&G(d._f.deps),M(n,v,o,U))}var g},z=(e,t)=>{if(p(s.errors,t)&&e.focus)return e.focus(),1},G=async(e,t={})=>{let i,n;const o=J(e);if(r.resolver){const t=await(async e=>{const{errors:t}=await R(e);if(e)for(const r of e){const e=p(t,r);e?V(s.errors,r,e):ae(s.errors,r)}else s.errors=t;return t})(h(e)?e:o);i=X(t),n=e?!o.some(e=>p(t,e)):i}else e?(n=(await Promise.all(o.map(async e=>{const t=p(a,e);return await L(t&&t._f?{[e]:t}:t)}))).every(Boolean),(n||s.isValid)&&C()):n=i=await L(a);return D.state.next({...!P(e)||(A.isValid||S.isValid)&&i!==s.isValid?{}:{name:e},...r.resolver||!e?{isValid:i}:{},errors:s.errors}),t.shouldFocus&&!n&&Ve(a,z,e?o:b.mount),n},ie=(e,t)=>{let r={...v.mount?u:i};return t&&(r=Q(t.dirtyFields?s.dirtyFields:s.touchedFields,r)),h(e)?r:P(e)?p(r,e):e.map(e=>p(r,e))},ne=(e,t)=>({invalid:!!p((t||s).errors,e),isDirty:!!p((t||s).dirtyFields,e),error:p((t||s).errors,e),isValidating:!!p(s.validatingFields,e),isTouched:!!p((t||s).touchedFields,e)}),le=(e,t,r)=>{const i=(p(a,e,{_f:{}})._f||{}).ref,n=p(s.errors,e)||{},{ref:o,message:l,type:u,...d}=n;V(s.errors,e,{...d,...t,ref:i}),D.state.next({name:e,errors:s.errors,isValid:!1}),r&&r.shouldFocus&&i&&i.focus&&i.focus()},ue=e=>D.state.subscribe({next:t=>{var r,a,n;r=e.name,a=t.name,n=e.exact,r&&a&&r!==a&&!J(r).some(e=>e&&(n?e===a:e.startsWith(a)||a.startsWith(e)))||!((e,t,r,s)=>{r(e);const{name:a,...i}=e;return X(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(e=>t[e]===(!s||E))})(t,e.formState||A,ke,e.reRenderRoot)||e.callback({values:{...u},...s,...t,defaultValues:i})}}).unsubscribe,de=(e,t={})=>{for(const n of e?J(e):b.mount)b.mount.delete(n),b.array.delete(n),t.keepValue||(ae(a,n),ae(u,n)),!t.keepError&&ae(s.errors,n),!t.keepDirty&&ae(s.dirtyFields,n),!t.keepTouched&&ae(s.touchedFields,n),!t.keepIsValidating&&ae(s.validatingFields,n),!r.shouldUnregister&&!t.keepDefaultValue&&ae(i,n);D.state.next({values:y(u)}),D.state.next({...s,...t.keepDirty?{isDirty:U()}:{}}),!t.keepIsValid&&C()},fe=({disabled:e,name:t})=>{(_(e)&&v.mount||e||b.disabled.has(t))&&(e?b.disabled.add(t):b.disabled.delete(t))},me=(e,t={})=>{let s=p(a,e);const o=_(t.disabled)||_(r.disabled);return V(a,e,{...s||{},_f:{...s&&s._f?s._f:{ref:{name:e}},name:e,mount:!0,...t}}),b.mount.add(e),s?fe({disabled:_(t.disabled)?t.disabled:r.disabled,name:e}):j(e,!0,t.value),{...o?{disabled:t.disabled||r.disabled}:{},...r.progressive?{required:!!t.required,min:he(t.min),max:he(t.max),minLength:he(t.minLength),maxLength:he(t.maxLength),pattern:he(t.pattern)}:{},name:e,onChange:H,onBlur:H,ref:o=>{if(o){me(e,t),s=p(a,e);const r=h(o.value)&&o.querySelectorAll&&o.querySelectorAll("input,select,textarea")[0]||o,l=(e=>re(e)||n(e))(r),u=s._f.refs||[];if(l?u.find(e=>e===r):r===s._f.ref)return;V(a,e,{_f:{...s._f,...l?{refs:[...u.filter(se),r,...Array.isArray(p(i,e))?[{}]:[]],ref:{type:r.type,name:e}}:{ref:r}}}),j(e,!1,void 0,r)}else s=p(a,e,{}),s._f&&(s._f.mount=!1),(r.shouldUnregister||t.shouldUnregister)&&(!f(b.array,e)||!v.action)&&b.unMount.add(e)}}},ve=()=>r.shouldFocusError&&Ve(a,z,b.mount),be=(e,t)=>async i=>{let n;i&&(i.preventDefault&&i.preventDefault(),i.persist&&i.persist());let o=y(u);if(D.state.next({isSubmitting:!0}),r.resolver){const{errors:e,values:t}=await R();s.errors=e,o=y(t)}else await L(a);if(b.disabled.size)for(const e of b.disabled)ae(o,e);if(ae(s.errors,"root"),X(s.errors)){D.state.next({errors:{}});try{await e(o,i)}catch(l){n=l}}else t&&await t({...s.errors},i),ve(),setTimeout(ve);if(D.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:X(s.errors)&&!n,submitCount:s.submitCount+1,errors:s.errors}),n)throw n},we=(e,t={})=>{const n=e?y(e):i,o=y(n),l=X(e),d=l?i:o;if(t.keepDefaultValues||(i=n),!t.keepValues){if(t.keepDirtyValues){const e=new Set([...b.mount,...Object.keys(oe(i,u))]);for(const t of Array.from(e))p(s.dirtyFields,t)?V(d,t,p(u,t)):W(t,p(d,t))}else{if(m&&h(e))for(const e of b.mount){const t=p(a,e);if(t&&t._f){const e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(ee(e)){const t=e.closest("form");if(t){t.reset();break}}}}if(t.keepFieldsRef)for(const e of b.mount)W(e,p(d,e));else a={}}u=r.shouldUnregister?t.keepDefaultValues?y(i):{}:y(d),D.array.next({values:{...d}}),D.state.next({values:{...d}})}b={mount:t.keepDirtyValues?b.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},v.mount=!A.isValid||!!t.keepIsValid||!!t.keepDirtyValues,v.watch=!!r.shouldUnregister,D.state.next({submitCount:t.keepSubmitCount?s.submitCount:0,isDirty:!l&&(t.keepDirty?s.isDirty:!(!t.keepDefaultValues||q(e,i))),isSubmitted:!!t.keepIsSubmitted&&s.isSubmitted,dirtyFields:l?{}:t.keepDirtyValues?t.keepDefaultValues&&u?oe(i,u):s.dirtyFields:t.keepDefaultValues&&e?oe(i,e):t.keepDirty?s.dirtyFields:{},touchedFields:t.keepTouched?s.touchedFields:{},errors:t.keepErrors?s.errors:{},isSubmitSuccessful:!!t.keepIsSubmitSuccessful&&s.isSubmitSuccessful,isSubmitting:!1,defaultValues:i})},Ae=(e,t)=>we(Z(e)?e(u):e,t),ke=e=>{s={...s,...e}},Ee={control:{register:me,unregister:de,getFieldState:ne,handleSubmit:be,setError:le,_subscribe:ue,_runSchema:R,_focusError:ve,_getWatch:T,_getDirty:U,_setValid:C,_setFieldArray:(e,t=[],n,o,l=!0,d=!0)=>{if(o&&n&&!r.disabled){if(v.action=!0,d&&Array.isArray(p(a,e))){const t=n(p(a,e),o.argA,o.argB);l&&V(a,e,t)}if(d&&Array.isArray(p(s.errors,e))){const t=n(p(s.errors,e),o.argA,o.argB);l&&V(s.errors,e,t),((e,t)=>{!g(p(e,t)).length&&ae(e,t)})(s.errors,e)}if((A.touchedFields||S.touchedFields)&&d&&Array.isArray(p(s.touchedFields,e))){const t=n(p(s.touchedFields,e),o.argA,o.argB);l&&V(s.touchedFields,e,t)}(A.dirtyFields||S.dirtyFields)&&(s.dirtyFields=oe(i,u)),D.state.next({name:e,isDirty:U(e,t),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else V(u,e,t)},_setDisabledField:fe,_setErrors:e=>{s.errors=e,D.state.next({errors:s.errors,isValid:!1})},_getFieldArray:e=>g(p(v.mount?u:i,e,r.shouldUnregister?p(i,e,[]):[])),_reset:we,_resetDefaultValues:()=>Z(r.defaultValues)&&r.defaultValues().then(e=>{Ae(e,r.resetOptions),D.state.next({isLoading:!1})}),_removeUnmounted:()=>{for(const e of b.unMount){const t=p(a,e);t&&(t._f.refs?t._f.refs.every(e=>!se(e)):!se(t._f.ref))&&de(e)}b.unMount=new Set},_disableForm:e=>{_(e)&&(D.state.next({disabled:e}),Ve(a,(t,r)=>{const s=p(a,r);s&&(t.disabled=s._f.disabled||e,Array.isArray(s._f.refs)&&s._f.refs.forEach(t=>{t.disabled=s._f.disabled||e}))},0,!1))},_subjects:D,_proxyFormState:A,get _fields(){return a},get _formValues(){return u},get _state(){return v},set _state(e){v=e},get _defaultValues(){return i},get _names(){return b},set _names(e){b=e},get _formState(){return s},get _options(){return r},set _options(e){r={...r,...e}}},subscribe:e=>(v.mount=!0,S={...S,...e.formState},ue({...e,formState:S})),trigger:G,register:me,handleSubmit:be,watch:(e,t)=>Z(e)?D.state.subscribe({next:r=>"values"in r&&e(T(void 0,t),r)}):T(e,t,!0),setValue:W,getValues:ie,reset:Ae,resetField:(e,t={})=>{p(a,e)&&(h(t.defaultValue)?W(e,y(p(i,e))):(W(e,t.defaultValue),V(i,e,y(t.defaultValue))),t.keepTouched||ae(s.touchedFields,e),t.keepDirty||(ae(s.dirtyFields,e),s.isDirty=t.defaultValue?U(e,y(p(i,e))):U()),t.keepError||(ae(s.errors,e),A.isValid&&C()),D.state.next({...s}))},clearErrors:e=>{e&&J(e).forEach(e=>ae(s.errors,e)),D.state.next({errors:e?s.errors:{}})},unregister:de,setError:le,setFocus:(e,t={})=>{const r=p(a,e),s=r&&r._f;if(s){const e=s.refs?s.refs[0]:s.ref;e.focus&&(e.focus(),t.shouldSelect&&Z(e.select)&&e.select())}},getFieldState:ne};return{...Ee,formControl:Ee}}function Ee(t={}){const r=e.useRef(void 0),s=e.useRef(void 0),[a,i]=e.useState({isDirty:!1,isValidating:!1,isLoading:Z(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Z(t.defaultValues)?void 0:t.defaultValues});if(!r.current)if(t.formControl)r.current={...t.formControl,formState:a},t.defaultValues&&!Z(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:e,...s}=ke(t);r.current={...s,formState:a}}const n=r.current.control;return n._options=t,B(()=>{const e=n._subscribe({formState:n._proxyFormState,callback:()=>i({...n._formState}),reRenderRoot:!0});return i(e=>({...e,isReady:!0})),n._formState.isReady=!0,e},[n]),e.useEffect(()=>n._disableForm(t.disabled),[n,t.disabled]),e.useEffect(()=>{t.mode&&(n._options.mode=t.mode),t.reValidateMode&&(n._options.reValidateMode=t.reValidateMode)},[n,t.mode,t.reValidateMode]),e.useEffect(()=>{t.errors&&(n._setErrors(t.errors),n._focusError())},[n,t.errors]),e.useEffect(()=>{t.shouldUnregister&&n._subjects.state.next({values:n._getWatch()})},[n,t.shouldUnregister]),e.useEffect(()=>{if(n._proxyFormState.isDirty){const e=n._getDirty();e!==a.isDirty&&n._subjects.state.next({isDirty:e})}},[n,a.isDirty]),e.useEffect(()=>{t.values&&!q(t.values,s.current)?(n._reset(t.values,{keepFieldsRef:!0,...n._options.resetOptions}),s.current=t.values,i(e=>({...e}))):n._resetDefaultValues()},[n,t.values]),e.useEffect(()=>{n._state.mount||(n._setValid(),n._state.mount=!0),n._state.watch&&(n._state.watch=!1,n._subjects.state.next({...n._formState})),n._removeUnmounted()}),r.current.formState=I(a,n),r.current}const Ce=(e,t,r)=>{if(e&&"reportValidity"in e){const s=p(r,t);e.setCustomValidity(s&&s.message||""),e.reportValidity()}},Oe=(e,t)=>{for(const r in t.fields){const s=t.fields[r];s&&s.ref&&"reportValidity"in s.ref?Ce(s.ref,r,e):s.refs&&s.refs.forEach(t=>Ce(t,r,e))}},je=(e,t)=>{t.shouldUseNativeValidation&&Oe(e,t);const r={};for(const s in e){const a=p(t.fields,s),i=Object.assign(e[s]||{},{ref:a&&a.ref});if(Ne(t.names||Object.keys(e),s)){const e=Object.assign({},p(r,s));V(e,"root",i),V(r,s,e)}else V(r,s,i)}return r},Ne=(e,t)=>e.some(e=>e.startsWith(t+"."));var Me=function(e,t){for(var r={};e.length;){var s=e[0],a=s.code,i=s.message,n=s.path.join(".");if(!r[n])if("unionErrors"in s){var o=s.unionErrors[0].errors[0];r[n]={message:o.message,type:o.code}}else r[n]={message:i,type:a};if("unionErrors"in s&&s.unionErrors.forEach(function(t){return t.errors.forEach(function(t){return e.push(t)})}),t){var l=r[n].types,u=l&&l[s.code];r[n]=G(n,t,r,a,u?[].concat(u,s.message):s.message)}e.shift()}return r},Re=function(e,t,r){return void 0===r&&(r={}),function(s,a,i){try{return Promise.resolve(function(a,n){try{var o=Promise.resolve(e["sync"===r.mode?"parse":"parseAsync"](s,t)).then(function(e){return i.shouldUseNativeValidation&&Oe({},i),{errors:{},values:r.raw?s:e}})}catch(l){return n(l)}return o&&o.then?o.then(void 0,n):o}(0,function(e){if(t=e,Array.isArray(null==t?void 0:t.errors))return{values:{},errors:je(Me(e.errors,!i.shouldUseNativeValidation&&"all"===i.criteriaMode),i)};var t;throw e}))}catch(n){return Promise.reject(n)}}};const Le=t=>{const{children:r,...s}=t;return e.createElement(U.Provider,{value:s},r)},Ue=t.createContext({}),Te=({...e})=>r.jsx(Ue.Provider,{value:{name:e.name},children:r.jsx(z,{...e})}),Ie=()=>{const e=t.useContext(Ue),r=t.useContext(Be),{getFieldState:s,formState:a}=T(),i=s(e.name,a);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:n}=r;return{id:n,name:e.name,formItemId:`${n}-form-item`,formDescriptionId:`${n}-form-item-description`,formMessageId:`${n}-form-item-message`,...i}},Be=t.createContext({}),Pe=t.forwardRef(({className:e,...s},i)=>{const n=t.useId();return r.jsx(Be.Provider,{value:{id:n},children:r.jsx("div",{ref:i,className:a("space-y-2",e),...s})})});Pe.displayName="FormItem";const $e=t.forwardRef(({className:e,...t},s)=>{const{error:n,formItemId:o}=Ie();return r.jsx(i,{ref:s,className:a(n&&"text-destructive",e),htmlFor:o,...t})});$e.displayName="FormLabel";const We=t.forwardRef(({...e},t)=>{const{error:a,formItemId:i,formDescriptionId:n,formMessageId:o}=Ie();return r.jsx(s,{ref:t,id:i,"aria-describedby":a?`${n} ${o}`:`${n}`,"aria-invalid":!!a,...e})});We.displayName="FormControl";const qe=t.forwardRef(({className:e,...t},s)=>{const{formDescriptionId:i}=Ie();return r.jsx("p",{ref:s,id:i,className:a("text-sm text-muted-foreground",e),...t})});qe.displayName="FormDescription";const He=t.forwardRef(({className:e,children:t,...s},i)=>{const{error:n,formMessageId:o}=Ie(),l=n?String(n?.message??""):t;return l?r.jsx("p",{ref:i,id:o,className:a("text-sm font-medium text-destructive",e),...s,children:l}):null});He.displayName="FormMessage";export{Le as F,Te as a,Pe as b,$e as c,We as d,He as e,qe as f,Re as t,Ee as u};
