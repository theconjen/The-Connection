import{r as s,j as e}from"./vendor-radix-Cb0-vzxO.js";import{u as a}from"./vendor-query-qkAKzVJ0.js";import{F as r,P as t,A as l,a as m,C as i}from"./community-guidelines-BasU_fYi.js";import{g as o,B as n}from"./index-CQmKbNyS.js";import{S as d}from"./skeleton-D3l7g_Rg.js";import{q as c}from"./vendor-icons-CM8Yk8yJ.js";import"./vendor-react-eVk5PToZ.js";import"./share-buttons-C-FR_qFy.js";import"./index-Dajqlzwd.js";import"./index-BTJIN2si.js";import"./vendor-utils-nlnd1Dju.js";function x({isGuest:x=!1}){const[h,j]=s.useState("popular"),[p,u]=s.useState(1),f=o("(max-width: 768px)"),{data:N,isLoading:b,isFetching:g}=a({queryKey:["/api/posts",{filter:h,page:p}]});return e.jsxs("div",{className:"container mx-auto px-4 py-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Community Posts"}),e.jsx("p",{className:"text-muted-foreground",children:"Discover and engage with long-form content from the Christian community"})]}),e.jsxs("div",{className:"flex "+(f?"flex-col":"md:flex-row gap-6"),children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(r,{onFilterChange:s=>{j(s),u(1)},currentFilter:h}),b?Array.from({length:3}).map((s,a)=>e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-neutral-200 mb-6 p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(d,{className:"w-10 h-10 rounded-full mr-3"}),e.jsxs("div",{children:[e.jsx(d,{className:"h-4 w-24"}),e.jsx(d,{className:"h-3 w-40 mt-1"})]})]}),e.jsx(d,{className:"h-6 w-3/4 mb-2"}),e.jsx(d,{className:"h-4 w-full mb-1"}),e.jsx(d,{className:"h-4 w-full mb-1"}),e.jsx(d,{className:"h-4 w-2/3 mb-6"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx(d,{className:"h-8 w-16"}),e.jsx(d,{className:"h-8 w-24"}),e.jsx(d,{className:"h-8 w-16"})]})]},a)):e.jsxs(e.Fragment,{children:[N&&N.map((s,a)=>e.jsx(t,{post:s,featured:0===a&&1===p},s.id)),N&&0===N.length&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-neutral-200 mb-6 p-10 text-center",children:[e.jsx("h3",{className:"text-xl font-semibold mb-3",children:"No Posts Found"}),e.jsx("p",{className:"text-neutral-600 mb-4",children:"There are no posts to display at the moment."})]}),e.jsx("div",{className:"text-center py-4",children:e.jsx(n,{className:"bg-white border border-neutral-300 text-neutral-700 hover:bg-neutral-100 font-medium",onClick:()=>{u(s=>s+1)},disabled:g,children:g?e.jsxs(e.Fragment,{children:[e.jsx(c,{className:"mr-2 h-4 w-4 animate-spin"}),"Loading..."]}):"Load More"})})]})]}),!f&&e.jsxs("aside",{className:"hidden md:block w-80 space-y-6 sticky top-24 self-start",children:[e.jsx(l,{}),e.jsx(m,{}),e.jsx(i,{})]})]})]})}export{x as default};
